ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"freertos.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.rodata.StartAttitudeTask.str1.4,"aMS",%progbits,1
  19              		.align	2
  20              	.LC0:
  21 0000 252E3266 		.ascii	"%.2f,%.2f,%.2f,%.2f\012\000"
  21      2C252E32 
  21      662C252E 
  21      32662C25 
  21      2E32660A 
  22              		.section	.text.StartAttitudeTask,"ax",%progbits
  23              		.align	1
  24              		.global	StartAttitudeTask
  25              		.syntax unified
  26              		.thumb
  27              		.thumb_func
  29              	StartAttitudeTask:
  30              	.LFB152:
  31              		.file 1 "Core/Src/freertos.c"
   1:Core/Src/freertos.c **** /* USER CODE BEGIN Header */
   2:Core/Src/freertos.c **** /**
   3:Core/Src/freertos.c ****   ******************************************************************************
   4:Core/Src/freertos.c ****   * File Name          : freertos.c
   5:Core/Src/freertos.c ****   * Description        : Code for freertos applications
   6:Core/Src/freertos.c ****   ******************************************************************************
   7:Core/Src/freertos.c ****   * @attention
   8:Core/Src/freertos.c ****   *
   9:Core/Src/freertos.c ****   * Copyright (c) 2024 STMicroelectronics.
  10:Core/Src/freertos.c ****   * All rights reserved.
  11:Core/Src/freertos.c ****   *
  12:Core/Src/freertos.c ****   * This software is licensed under terms that can be found in the LICENSE file
  13:Core/Src/freertos.c ****   * in the root directory of this software component.
  14:Core/Src/freertos.c ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  15:Core/Src/freertos.c ****   *
  16:Core/Src/freertos.c ****   ******************************************************************************
  17:Core/Src/freertos.c ****   */
  18:Core/Src/freertos.c **** /* USER CODE END Header */
  19:Core/Src/freertos.c **** 
  20:Core/Src/freertos.c **** /* Includes ------------------------------------------------------------------*/
  21:Core/Src/freertos.c **** #include "FreeRTOS.h"
  22:Core/Src/freertos.c **** #include "task.h"
  23:Core/Src/freertos.c **** #include "main.h"
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 2


  24:Core/Src/freertos.c **** #include "cmsis_os.h"
  25:Core/Src/freertos.c **** 
  26:Core/Src/freertos.c **** /* Private includes ----------------------------------------------------------*/
  27:Core/Src/freertos.c **** /* USER CODE BEGIN Includes */
  28:Core/Src/freertos.c **** #include "queue.h"
  29:Core/Src/freertos.c **** #include "semphr.h"
  30:Core/Src/freertos.c **** #include "servo_control.h"
  31:Core/Src/freertos.c **** #include "MPU9250.h"
  32:Core/Src/freertos.c **** #include "robocontrol.h"
  33:Core/Src/freertos.c **** #include <stdio.h>
  34:Core/Src/freertos.c **** #include <string.h>
  35:Core/Src/freertos.c **** #include "VMC.h"
  36:Core/Src/freertos.c **** #include "AHRS.h"
  37:Core/Src/freertos.c **** #include "stdarg.h"
  38:Core/Src/freertos.c **** 
  39:Core/Src/freertos.c **** /* USER CODE END Includes */
  40:Core/Src/freertos.c **** 
  41:Core/Src/freertos.c **** /* Private typedef -----------------------------------------------------------*/
  42:Core/Src/freertos.c **** /* USER CODE BEGIN PTD */
  43:Core/Src/freertos.c **** extern UART_HandleTypeDef huart1;
  44:Core/Src/freertos.c **** IMUData imuData;
  45:Core/Src/freertos.c **** 
  46:Core/Src/freertos.c **** /* USER CODE END PTD */
  47:Core/Src/freertos.c **** 
  48:Core/Src/freertos.c **** /* Private define ------------------------------------------------------------*/
  49:Core/Src/freertos.c **** /* USER CODE BEGIN PD */
  50:Core/Src/freertos.c **** 
  51:Core/Src/freertos.c **** /* 每个步态阶段的持续时间（毫秒） */
  52:Core/Src/freertos.c **** 
  53:Core/Src/freertos.c **** #define RX_BUFFER_SIZE 10 // 接收缓冲区大小
  54:Core/Src/freertos.c **** 
  55:Core/Src/freertos.c **** /* USER CODE END PD */
  56:Core/Src/freertos.c **** 
  57:Core/Src/freertos.c **** /* Private macro -------------------------------------------------------------*/
  58:Core/Src/freertos.c **** /* USER CODE BEGIN PM */
  59:Core/Src/freertos.c **** 
  60:Core/Src/freertos.c **** // 定义队列用于姿态四元数数据传输
  61:Core/Src/freertos.c **** QueueHandle_t quatQueue; // 四元数队列
  62:Core/Src/freertos.c **** SemaphoreHandle_t uartMutex;  // 串口互斥信号量
  63:Core/Src/freertos.c **** SemaphoreHandle_t uartTxCompleteSemaphore; // 串口发送完成信号量
  64:Core/Src/freertos.c **** SemaphoreHandle_t uartRxCompleteSemaphore; // 串口接收完成信号量
  65:Core/Src/freertos.c **** 
  66:Core/Src/freertos.c **** /* USER CODE END PM */
  67:Core/Src/freertos.c **** 
  68:Core/Src/freertos.c **** /* Private variables ---------------------------------------------------------*/
  69:Core/Src/freertos.c **** /* USER CODE BEGIN Variables */
  70:Core/Src/freertos.c **** 
  71:Core/Src/freertos.c **** // 定义数据存储变量
  72:Core/Src/freertos.c **** int16_t AccData[3] = {0};
  73:Core/Src/freertos.c **** int16_t MagData[3] = {0};
  74:Core/Src/freertos.c **** int16_t GyroData[3] = {0};
  75:Core/Src/freertos.c **** float TempData = 0.0;
  76:Core/Src/freertos.c **** uint8_t rxBuffer[RX_BUFFER_SIZE]; // 接收缓冲区
  77:Core/Src/freertos.c **** // 用于标记DMA是否空闲
  78:Core/Src/freertos.c **** volatile uint8_t dma_tx_ready = 1;
  79:Core/Src/freertos.c **** 
  80:Core/Src/freertos.c **** /* USER CODE END Variables */
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 3


  81:Core/Src/freertos.c **** 
  82:Core/Src/freertos.c **** /* Definitions for AttitudeTask */
  83:Core/Src/freertos.c **** osThreadId_t AttitudeTaskHandle;
  84:Core/Src/freertos.c **** const osThreadAttr_t AttitudeTask_attributes = {
  85:Core/Src/freertos.c ****         .name = "AttitudeTask",
  86:Core/Src/freertos.c ****         .stack_size = 1024 * 4,
  87:Core/Src/freertos.c ****         .priority = (osPriority_t) osPriorityRealtime3,
  88:Core/Src/freertos.c **** };
  89:Core/Src/freertos.c **** /* Definitions for ServoControlTas */
  90:Core/Src/freertos.c **** osThreadId_t ServoControlTasHandle;
  91:Core/Src/freertos.c **** const osThreadAttr_t ServoControlTas_attributes = {
  92:Core/Src/freertos.c ****         .name = "ServoControlTas",
  93:Core/Src/freertos.c ****         .stack_size = 256 * 4,
  94:Core/Src/freertos.c ****         .priority = (osPriority_t) osPriorityRealtime2,
  95:Core/Src/freertos.c **** };
  96:Core/Src/freertos.c **** /* Definitions for GaitControlTask */
  97:Core/Src/freertos.c **** osThreadId_t GaitControlTaskHandle;
  98:Core/Src/freertos.c **** const osThreadAttr_t GaitControlTask_attributes = {
  99:Core/Src/freertos.c ****         .name = "GaitControlTask",
 100:Core/Src/freertos.c ****         .stack_size = 256 * 4,
 101:Core/Src/freertos.c ****         .priority = (osPriority_t) osPriorityRealtime2,
 102:Core/Src/freertos.c **** };
 103:Core/Src/freertos.c **** /* Definitions for SerialCommTask */
 104:Core/Src/freertos.c **** osThreadId_t SerialCommTaskHandle;
 105:Core/Src/freertos.c **** const osThreadAttr_t SerialCommTask_attributes = {
 106:Core/Src/freertos.c ****         .name = "SerialCommTask",
 107:Core/Src/freertos.c ****         .stack_size = 256 * 4,
 108:Core/Src/freertos.c ****         .priority = (osPriority_t) osPriorityRealtime2,
 109:Core/Src/freertos.c **** };
 110:Core/Src/freertos.c **** 
 111:Core/Src/freertos.c **** /* Private function prototypes -----------------------------------------------*/
 112:Core/Src/freertos.c **** /* USER CODE BEGIN FunctionPrototypes */
 113:Core/Src/freertos.c **** uint32_t inHandlerMode(void);
 114:Core/Src/freertos.c **** void print_usart1(char *format, ...);
 115:Core/Src/freertos.c **** void UART_ProcessCommand(uint8_t* buffer);
 116:Core/Src/freertos.c **** void SendAttitudeToHost(float q[4]);
 117:Core/Src/freertos.c **** void SendAttitudeToPC(float q[4]);
 118:Core/Src/freertos.c **** /* USER CODE END FunctionPrototypes */
 119:Core/Src/freertos.c **** 
 120:Core/Src/freertos.c **** void StartDefaultTask(void *argument);
 121:Core/Src/freertos.c **** void StartAttitudeTask(void *argument);
 122:Core/Src/freertos.c **** void StartServoControlTask(void *argument);
 123:Core/Src/freertos.c **** void StartGaitControlTask(void *argument);
 124:Core/Src/freertos.c **** void StartSerialCommTask(void *argument);
 125:Core/Src/freertos.c **** 
 126:Core/Src/freertos.c **** void MX_FREERTOS_Init(void); /* (MISRA C 2004 rule 8.1) */
 127:Core/Src/freertos.c **** 
 128:Core/Src/freertos.c **** /**
 129:Core/Src/freertos.c ****   * @brief  FreeRTOS initialization
 130:Core/Src/freertos.c ****   * @param  None
 131:Core/Src/freertos.c ****   * @retval None
 132:Core/Src/freertos.c ****   */
 133:Core/Src/freertos.c **** void MX_FREERTOS_Init(void) {
 134:Core/Src/freertos.c ****     /* USER CODE BEGIN Init */
 135:Core/Src/freertos.c ****     Servo_Init();
 136:Core/Src/freertos.c ****     //MPU9250_Init();
 137:Core/Src/freertos.c ****     AHRS_Init();
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 4


 138:Core/Src/freertos.c ****     //HAL_UART_Transmit(&huart1, (uint8_t*)"FreertosInit", 100, HAL_MAX_DELAY);
 139:Core/Src/freertos.c ****     //HAL_UART_Transmit_DMA(&huart1, (uint8_t*)"InitDMA", 100);
 140:Core/Src/freertos.c **** 
 141:Core/Src/freertos.c **** 
 142:Core/Src/freertos.c **** 
 143:Core/Src/freertos.c ****     HAL_UART_Receive_DMA(&huart1, rxBuffer, RX_BUFFER_SIZE);  // 启动 UART 接收 DMA
 144:Core/Src/freertos.c **** 
 145:Core/Src/freertos.c **** 
 146:Core/Src/freertos.c ****     // Init_Servos();
 147:Core/Src/freertos.c ****     // Set_Servo_Angle(H1, 90);  // 设置舵机角度
 148:Core/Src/freertos.c ****     // Set_Servo_Angle(H2, 90);
 149:Core/Src/freertos.c ****     // Set_Servo_Angle(H3, 90);
 150:Core/Src/freertos.c ****     // Set_Servo_Angle(H4, 90);
 151:Core/Src/freertos.c ****     // Set_Servo_Angle(H5, 90);
 152:Core/Src/freertos.c ****     // Set_Servo_Angle(H6, 90);
 153:Core/Src/freertos.c ****     // Set_Servo_Angle(H7, 90);
 154:Core/Src/freertos.c ****     // Set_Servo_Angle(H8, 90);
 155:Core/Src/freertos.c ****     // HAL_Delay(1000);
 156:Core/Src/freertos.c ****     // Set_Servo_Angle(H1, 90 - 20);  // 设置舵机角度
 157:Core/Src/freertos.c ****     // Set_Servo_Angle(H2, 90 - 30);
 158:Core/Src/freertos.c ****     // Set_Servo_Angle(H3, 90 + 20);
 159:Core/Src/freertos.c ****     // Set_Servo_Angle(H4, 90 + 30);
 160:Core/Src/freertos.c ****     // Set_Servo_Angle(H5, 90 - 20);
 161:Core/Src/freertos.c ****     // Set_Servo_Angle(H6, 90 - 30);
 162:Core/Src/freertos.c ****     // Set_Servo_Angle(H7, 90 + 20);
 163:Core/Src/freertos.c ****     // Set_Servo_Angle(H8, 90 + 30);
 164:Core/Src/freertos.c **** 
 165:Core/Src/freertos.c ****     /* USER CODE END Init */
 166:Core/Src/freertos.c **** 
 167:Core/Src/freertos.c ****     /* USER CODE BEGIN RTOS_MUTEX */
 168:Core/Src/freertos.c ****     /* add mutexes, ... */
 169:Core/Src/freertos.c ****     /* USER CODE END RTOS_MUTEX */
 170:Core/Src/freertos.c **** 
 171:Core/Src/freertos.c ****     /* USER CODE BEGIN RTOS_SEMAPHORES */
 172:Core/Src/freertos.c ****     /* add semaphores, ... */
 173:Core/Src/freertos.c ****     uartMutex = xSemaphoreCreateMutex();  // 创建串口互斥信号量
 174:Core/Src/freertos.c ****     uartTxCompleteSemaphore = xSemaphoreCreateBinary();  // 创建串口发送完成信号量
 175:Core/Src/freertos.c ****     uartRxCompleteSemaphore = xSemaphoreCreateBinary();  // 创建串口接收完成信号量
 176:Core/Src/freertos.c ****     /* USER CODE END RTOS_SEMAPHORES */
 177:Core/Src/freertos.c **** 
 178:Core/Src/freertos.c ****     /* USER CODE BEGIN RTOS_TIMERS */
 179:Core/Src/freertos.c ****     /* start timers, add new ones, ... */
 180:Core/Src/freertos.c ****     /* USER CODE END RTOS_TIMERS */
 181:Core/Src/freertos.c **** 
 182:Core/Src/freertos.c ****     /* USER CODE BEGIN RTOS_QUEUES */
 183:Core/Src/freertos.c ****     quatQueue = xQueueCreate(10, sizeof(int16_t[4]));  // 创建队列，存储四元数数据
 184:Core/Src/freertos.c ****     /* add queues, ... */
 185:Core/Src/freertos.c ****     /* USER CODE END RTOS_QUEUES */
 186:Core/Src/freertos.c **** 
 187:Core/Src/freertos.c ****     /* Create the thread(s) */
 188:Core/Src/freertos.c **** 
 189:Core/Src/freertos.c ****     /* creation of AttitudeTask */
 190:Core/Src/freertos.c ****     AttitudeTaskHandle = osThreadNew(StartAttitudeTask, NULL, &AttitudeTask_attributes);
 191:Core/Src/freertos.c **** 
 192:Core/Src/freertos.c ****     /* creation of ServoControlTas */
 193:Core/Src/freertos.c ****     ServoControlTasHandle = osThreadNew(StartServoControlTask, NULL, &ServoControlTas_attributes);
 194:Core/Src/freertos.c **** 
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 5


 195:Core/Src/freertos.c ****     /* creation of GaitControlTask */
 196:Core/Src/freertos.c ****     GaitControlTaskHandle = osThreadNew(StartGaitControlTask, NULL, &GaitControlTask_attributes);
 197:Core/Src/freertos.c **** 
 198:Core/Src/freertos.c ****     /* creation of SerialCommTask */
 199:Core/Src/freertos.c ****     SerialCommTaskHandle = osThreadNew(StartSerialCommTask, NULL, &SerialCommTask_attributes);
 200:Core/Src/freertos.c **** 
 201:Core/Src/freertos.c ****     /* USER CODE BEGIN RTOS_THREADS */
 202:Core/Src/freertos.c ****     /* add threads, ... */
 203:Core/Src/freertos.c ****     /* USER CODE END RTOS_THREADS */
 204:Core/Src/freertos.c **** 
 205:Core/Src/freertos.c ****     /* USER CODE BEGIN RTOS_EVENTS */
 206:Core/Src/freertos.c ****     /* add events, ... */
 207:Core/Src/freertos.c ****     /* USER CODE END RTOS_EVENTS */
 208:Core/Src/freertos.c **** 
 209:Core/Src/freertos.c **** }
 210:Core/Src/freertos.c **** 
 211:Core/Src/freertos.c **** 
 212:Core/Src/freertos.c **** /* USER CODE BEGIN Header_StartAttitudeTask */
 213:Core/Src/freertos.c **** /**
 214:Core/Src/freertos.c **** * @brief Function implementing the AttitudeTask thread.
 215:Core/Src/freertos.c **** * @param argument: Not used
 216:Core/Src/freertos.c **** * @retval None
 217:Core/Src/freertos.c **** */
 218:Core/Src/freertos.c **** /* USER CODE END Header_StartAttitudeTask */
 219:Core/Src/freertos.c **** void StartAttitudeTask(void *argument)
 220:Core/Src/freertos.c **** {
  32              		.loc 1 220 1 view -0
  33              		.cfi_startproc
  34              		@ args = 0, pretend = 0, frame = 1088
  35              		@ frame_needed = 0, uses_anonymous_args = 0
  36              	.LVL0:
  37              		.loc 1 220 1 is_stmt 0 view .LVU1
  38 0000 10B5     		push	{r4, lr}
  39              	.LCFI0:
  40              		.cfi_def_cfa_offset 8
  41              		.cfi_offset 4, -8
  42              		.cfi_offset 14, -4
  43 0002 ADF58C6D 		sub	sp, sp, #1120
  44              	.LCFI1:
  45              		.cfi_def_cfa_offset 1128
  46 0006 02E0     		b	.L3
  47              	.LVL1:
  48              	.L2:
  49              	.LBB8:
 221:Core/Src/freertos.c ****     /* USER CODE BEGIN StartAttitudeTask */
 222:Core/Src/freertos.c ****     //AHRS_Init();
 223:Core/Src/freertos.c ****     IMUData imuData;
 224:Core/Src/freertos.c ****     /* Infinite loop */
 225:Core/Src/freertos.c ****     for(;;)
 226:Core/Src/freertos.c ****     {
 227:Core/Src/freertos.c ****         //HAL_UART_Transmit(&huart1, (uint8_t*)"StartAttitudeTask", 100, HAL_MAX_DELAY);
 228:Core/Src/freertos.c **** 
 229:Core/Src/freertos.c ****         MPU9250_GetData(imuData.accel, imuData.mag, imuData.gyro, NULL);  // 读取IMU数据
 230:Core/Src/freertos.c ****         // 获取加速度、陀螺仪和磁力计原始数据
 231:Core/Src/freertos.c ****         float ax = imuData.accel[0] * 4.0f * 9.81f / 32768.0f; // 4G 量程
 232:Core/Src/freertos.c ****         float ay = imuData.accel[1] * 4.0f * 9.81f / 32768.0f;
 233:Core/Src/freertos.c ****         float az = imuData.accel[2] * 4.0f * 9.81f / 32768.0f;
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 6


 234:Core/Src/freertos.c ****         float gx = imuData.gyro[0] * 500.0f / 32768.0f * M_PI / 180.0f; // 500DPS 量程
 235:Core/Src/freertos.c ****         float gy = imuData.gyro[1] * 500.0f / 32768.0f * M_PI / 180.0f;
 236:Core/Src/freertos.c ****         float gz = imuData.gyro[2] * 500.0f / 32768.0f * M_PI / 180.0f;
 237:Core/Src/freertos.c ****         float mx = imuData.mag[0] * 0.146f; // 将原始数据转换为 µT
 238:Core/Src/freertos.c ****         float my = imuData.mag[1] * 0.146f;
 239:Core/Src/freertos.c ****         float mz = imuData.mag[2] * 0.146f;
 240:Core/Src/freertos.c **** 
 241:Core/Src/freertos.c **** 
 242:Core/Src/freertos.c ****         AHRS_Update();  // 更新姿态四元数
 243:Core/Src/freertos.c ****         // 获取并处理姿态四元数
 244:Core/Src/freertos.c ****         float quat[4] = {0};
 245:Core/Src/freertos.c ****         AHRS_GetQuaternion(quat);
 246:Core/Src/freertos.c **** 
 247:Core/Src/freertos.c ****         // 打印传感器数据
 248:Core/Src/freertos.c ****         char printBuffer[1024];
 249:Core/Src/freertos.c ****         int len = snprintf(printBuffer, sizeof(printBuffer),
 250:Core/Src/freertos.c ****                            "%.2f,%.2f,%.2f,%.2f\n",
 251:Core/Src/freertos.c ****                            quat[0], quat[1], quat[2], quat[3]);
 252:Core/Src/freertos.c ****         //HAL_UART_Transmit(&huart1, (uint8_t*)printBuffer, len, HAL_MAX_DELAY);
 253:Core/Src/freertos.c ****         //HAL_UART_Transmit_DMA(&huart1, (uint8_t*)printBuffer, len);
 254:Core/Src/freertos.c ****         //print_usart1("Quat: %.2f, %.2f, %.2f, %.2f\n", quat[0], quat[1], quat[2], quat[3]);
 255:Core/Src/freertos.c **** 
 256:Core/Src/freertos.c ****         // 将姿态四元数发送给GaitControlTask
 257:Core/Src/freertos.c ****         xQueueSend(quatQueue, &quat, portMAX_DELAY);
 258:Core/Src/freertos.c **** 
 259:Core/Src/freertos.c ****         // 准备发送四元数数据
 260:Core/Src/freertos.c ****         uint8_t txBuffer[22];
 261:Core/Src/freertos.c ****         memset(txBuffer, 0, sizeof(txBuffer));  // 清除发送缓冲区
 262:Core/Src/freertos.c ****         txBuffer[0] = 0xAA;  // 帧头
 263:Core/Src/freertos.c ****         txBuffer[1] = 0x06;  // 数据类型 (姿态数据)
 264:Core/Src/freertos.c ****         memcpy(&txBuffer[2], &quat[0], sizeof(float));  // 复制四元数数据
 265:Core/Src/freertos.c ****         memcpy(&txBuffer[6], &quat[1], sizeof(float));
 266:Core/Src/freertos.c ****         memcpy(&txBuffer[10], &quat[2], sizeof(float));
 267:Core/Src/freertos.c ****         memcpy(&txBuffer[14], &quat[3], sizeof(float));
 268:Core/Src/freertos.c ****         txBuffer[18] = 0x55;  // 帧尾
 269:Core/Src/freertos.c **** 
 270:Core/Src/freertos.c ****         //HAL_UART_Transmit(&huart1, txBuffer, sizeof(txBuffer), HAL_MAX_DELAY);
 271:Core/Src/freertos.c **** 
 272:Core/Src/freertos.c ****         if (HAL_UART_GetState(&huart1) == HAL_UART_STATE_READY && dma_tx_ready) {
 273:Core/Src/freertos.c ****             dma_tx_ready = 0;
 274:Core/Src/freertos.c **** 
 275:Core/Src/freertos.c ****             // 使用DMA发送数据
 276:Core/Src/freertos.c ****             HAL_UART_Transmit_DMA(&huart1, txBuffer, sizeof(txBuffer));
 277:Core/Src/freertos.c **** 
 278:Core/Src/freertos.c ****             // 等待发送完成
 279:Core/Src/freertos.c ****             xSemaphoreTake(uartTxCompleteSemaphore, portMAX_DELAY);
 280:Core/Src/freertos.c ****         }
 281:Core/Src/freertos.c **** 
 282:Core/Src/freertos.c ****         vTaskDelay(pdMS_TO_TICKS(10));
  50              		.loc 1 282 9 is_stmt 1 view .LVU2
  51 0008 0A20     		movs	r0, #10
  52 000a FFF7FEFF 		bl	vTaskDelay
  53              	.LVL2:
  54              	.LBE8:
 225:Core/Src/freertos.c ****     {
  55              		.loc 1 225 10 view .LVU3
  56              	.L3:
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 7


 223:Core/Src/freertos.c ****     /* Infinite loop */
  57              		.loc 1 223 5 view .LVU4
 225:Core/Src/freertos.c ****     {
  58              		.loc 1 225 5 view .LVU5
  59              	.LBB9:
 229:Core/Src/freertos.c ****         // 获取加速度、陀螺仪和磁力计原始数据
  60              		.loc 1 229 9 view .LVU6
  61 000e 0023     		movs	r3, #0
  62 0010 0DF24E42 		addw	r2, sp, #1102
  63 0014 0DF25441 		addw	r1, sp, #1108
  64 0018 0DF58960 		add	r0, sp, #1096
  65 001c FFF7FEFF 		bl	MPU9250_GetData
  66              	.LVL3:
 231:Core/Src/freertos.c ****         float ay = imuData.accel[1] * 4.0f * 9.81f / 32768.0f;
  67              		.loc 1 231 9 view .LVU7
 232:Core/Src/freertos.c ****         float az = imuData.accel[2] * 4.0f * 9.81f / 32768.0f;
  68              		.loc 1 232 9 view .LVU8
 233:Core/Src/freertos.c ****         float gx = imuData.gyro[0] * 500.0f / 32768.0f * M_PI / 180.0f; // 500DPS 量程
  69              		.loc 1 233 9 view .LVU9
 234:Core/Src/freertos.c ****         float gy = imuData.gyro[1] * 500.0f / 32768.0f * M_PI / 180.0f;
  70              		.loc 1 234 9 view .LVU10
 235:Core/Src/freertos.c ****         float gz = imuData.gyro[2] * 500.0f / 32768.0f * M_PI / 180.0f;
  71              		.loc 1 235 9 view .LVU11
 236:Core/Src/freertos.c ****         float mx = imuData.mag[0] * 0.146f; // 将原始数据转换为 µT
  72              		.loc 1 236 9 view .LVU12
 237:Core/Src/freertos.c ****         float my = imuData.mag[1] * 0.146f;
  73              		.loc 1 237 9 view .LVU13
 238:Core/Src/freertos.c ****         float mz = imuData.mag[2] * 0.146f;
  74              		.loc 1 238 9 view .LVU14
 239:Core/Src/freertos.c **** 
  75              		.loc 1 239 9 view .LVU15
 242:Core/Src/freertos.c ****         // 获取并处理姿态四元数
  76              		.loc 1 242 9 view .LVU16
  77 0020 FFF7FEFF 		bl	AHRS_Update
  78              	.LVL4:
 244:Core/Src/freertos.c ****         AHRS_GetQuaternion(quat);
  79              		.loc 1 244 9 view .LVU17
 244:Core/Src/freertos.c ****         AHRS_GetQuaternion(quat);
  80              		.loc 1 244 15 is_stmt 0 view .LVU18
  81 0024 0024     		movs	r4, #0
  82 0026 0894     		str	r4, [sp, #32]
  83 0028 0994     		str	r4, [sp, #36]
  84 002a 0A94     		str	r4, [sp, #40]
  85 002c 0B94     		str	r4, [sp, #44]
 245:Core/Src/freertos.c **** 
  86              		.loc 1 245 9 is_stmt 1 view .LVU19
  87 002e 08A8     		add	r0, sp, #32
  88 0030 FFF7FEFF 		bl	AHRS_GetQuaternion
  89              	.LVL5:
 248:Core/Src/freertos.c ****         int len = snprintf(printBuffer, sizeof(printBuffer),
  90              		.loc 1 248 9 view .LVU20
 249:Core/Src/freertos.c ****                            "%.2f,%.2f,%.2f,%.2f\n",
  91              		.loc 1 249 9 view .LVU21
 251:Core/Src/freertos.c ****         //HAL_UART_Transmit(&huart1, (uint8_t*)printBuffer, len, HAL_MAX_DELAY);
  92              		.loc 1 251 32 is_stmt 0 view .LVU22
  93 0034 9DED087A 		vldr.32	s14, [sp, #32]
 251:Core/Src/freertos.c ****         //HAL_UART_Transmit(&huart1, (uint8_t*)printBuffer, len, HAL_MAX_DELAY);
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 8


  94              		.loc 1 251 41 view .LVU23
  95 0038 9DED096A 		vldr.32	s12, [sp, #36]
 251:Core/Src/freertos.c ****         //HAL_UART_Transmit(&huart1, (uint8_t*)printBuffer, len, HAL_MAX_DELAY);
  96              		.loc 1 251 50 view .LVU24
  97 003c 9DED0A5A 		vldr.32	s10, [sp, #40]
 251:Core/Src/freertos.c ****         //HAL_UART_Transmit(&huart1, (uint8_t*)printBuffer, len, HAL_MAX_DELAY);
  98              		.loc 1 251 59 view .LVU25
  99 0040 9DED0B4A 		vldr.32	s8, [sp, #44]
 249:Core/Src/freertos.c ****                            "%.2f,%.2f,%.2f,%.2f\n",
 100              		.loc 1 249 19 view .LVU26
 101 0044 B7EEC44A 		vcvt.f64.f32	d4, s8
 102 0048 8DED064B 		vstr.64	d4, [sp, #24]
 103 004c B7EEC55A 		vcvt.f64.f32	d5, s10
 104 0050 8DED045B 		vstr.64	d5, [sp, #16]
 105 0054 B7EEC66A 		vcvt.f64.f32	d6, s12
 106 0058 8DED026B 		vstr.64	d6, [sp, #8]
 107 005c B7EEC77A 		vcvt.f64.f32	d7, s14
 108 0060 8DED007B 		vstr.64	d7, [sp]
 109 0064 204A     		ldr	r2, .L5
 110 0066 4FF48061 		mov	r1, #1024
 111 006a 12A8     		add	r0, sp, #72
 112 006c FFF7FEFF 		bl	snprintf
 113              	.LVL6:
 257:Core/Src/freertos.c **** 
 114              		.loc 1 257 9 is_stmt 1 view .LVU27
 115 0070 2346     		mov	r3, r4
 116 0072 4FF0FF32 		mov	r2, #-1
 117 0076 08A9     		add	r1, sp, #32
 118 0078 1C48     		ldr	r0, .L5+4
 119 007a 0068     		ldr	r0, [r0]
 120 007c FFF7FEFF 		bl	xQueueGenericSend
 121              	.LVL7:
 260:Core/Src/freertos.c ****         memset(txBuffer, 0, sizeof(txBuffer));  // 清除发送缓冲区
 122              		.loc 1 260 9 view .LVU28
 261:Core/Src/freertos.c ****         txBuffer[0] = 0xAA;  // 帧头
 123              		.loc 1 261 9 view .LVU29
 124 0080 0C94     		str	r4, [sp, #48]
 125 0082 0D94     		str	r4, [sp, #52]
 126 0084 0E94     		str	r4, [sp, #56]
 127 0086 0F94     		str	r4, [sp, #60]
 128 0088 1094     		str	r4, [sp, #64]
 129 008a ADF84440 		strh	r4, [sp, #68]	@ movhi
 262:Core/Src/freertos.c ****         txBuffer[1] = 0x06;  // 数据类型 (姿态数据)
 130              		.loc 1 262 9 view .LVU30
 262:Core/Src/freertos.c ****         txBuffer[1] = 0x06;  // 数据类型 (姿态数据)
 131              		.loc 1 262 21 is_stmt 0 view .LVU31
 132 008e AA23     		movs	r3, #170
 133 0090 8DF83030 		strb	r3, [sp, #48]
 263:Core/Src/freertos.c ****         memcpy(&txBuffer[2], &quat[0], sizeof(float));  // 复制四元数数据
 134              		.loc 1 263 9 is_stmt 1 view .LVU32
 263:Core/Src/freertos.c ****         memcpy(&txBuffer[2], &quat[0], sizeof(float));  // 复制四元数数据
 135              		.loc 1 263 21 is_stmt 0 view .LVU33
 136 0094 0623     		movs	r3, #6
 137 0096 8DF83130 		strb	r3, [sp, #49]
 264:Core/Src/freertos.c ****         memcpy(&txBuffer[6], &quat[1], sizeof(float));
 138              		.loc 1 264 9 is_stmt 1 view .LVU34
 139 009a 089B     		ldr	r3, [sp, #32]
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 9


 140 009c CDF83230 		str	r3, [sp, #50]	@ unaligned
 265:Core/Src/freertos.c ****         memcpy(&txBuffer[10], &quat[2], sizeof(float));
 141              		.loc 1 265 9 view .LVU35
 142 00a0 099B     		ldr	r3, [sp, #36]
 143 00a2 CDF83630 		str	r3, [sp, #54]	@ unaligned
 266:Core/Src/freertos.c ****         memcpy(&txBuffer[14], &quat[3], sizeof(float));
 144              		.loc 1 266 9 view .LVU36
 145 00a6 0A9B     		ldr	r3, [sp, #40]
 146 00a8 CDF83A30 		str	r3, [sp, #58]	@ unaligned
 267:Core/Src/freertos.c ****         txBuffer[18] = 0x55;  // 帧尾
 147              		.loc 1 267 9 view .LVU37
 148 00ac 0B9B     		ldr	r3, [sp, #44]
 149 00ae CDF83E30 		str	r3, [sp, #62]	@ unaligned
 268:Core/Src/freertos.c **** 
 150              		.loc 1 268 9 view .LVU38
 268:Core/Src/freertos.c **** 
 151              		.loc 1 268 22 is_stmt 0 view .LVU39
 152 00b2 5523     		movs	r3, #85
 153 00b4 8DF84230 		strb	r3, [sp, #66]
 272:Core/Src/freertos.c ****             dma_tx_ready = 0;
 154              		.loc 1 272 9 is_stmt 1 view .LVU40
 272:Core/Src/freertos.c ****             dma_tx_ready = 0;
 155              		.loc 1 272 13 is_stmt 0 view .LVU41
 156 00b8 0D48     		ldr	r0, .L5+8
 157 00ba FFF7FEFF 		bl	HAL_UART_GetState
 158              	.LVL8:
 272:Core/Src/freertos.c ****             dma_tx_ready = 0;
 159              		.loc 1 272 12 view .LVU42
 160 00be 2028     		cmp	r0, #32
 161 00c0 A2D1     		bne	.L2
 272:Core/Src/freertos.c ****             dma_tx_ready = 0;
 162              		.loc 1 272 64 discriminator 1 view .LVU43
 163 00c2 0C4B     		ldr	r3, .L5+12
 164 00c4 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 165 00c6 002B     		cmp	r3, #0
 166 00c8 9ED0     		beq	.L2
 273:Core/Src/freertos.c **** 
 167              		.loc 1 273 13 is_stmt 1 view .LVU44
 273:Core/Src/freertos.c **** 
 168              		.loc 1 273 26 is_stmt 0 view .LVU45
 169 00ca 0A4B     		ldr	r3, .L5+12
 170 00cc 1C70     		strb	r4, [r3]
 276:Core/Src/freertos.c **** 
 171              		.loc 1 276 13 is_stmt 1 view .LVU46
 172 00ce 1622     		movs	r2, #22
 173 00d0 0CA9     		add	r1, sp, #48
 174 00d2 0748     		ldr	r0, .L5+8
 175 00d4 FFF7FEFF 		bl	HAL_UART_Transmit_DMA
 176              	.LVL9:
 279:Core/Src/freertos.c ****         }
 177              		.loc 1 279 13 view .LVU47
 178 00d8 4FF0FF31 		mov	r1, #-1
 179 00dc 064B     		ldr	r3, .L5+16
 180 00de 1868     		ldr	r0, [r3]
 181 00e0 FFF7FEFF 		bl	xQueueSemaphoreTake
 182              	.LVL10:
 183 00e4 90E7     		b	.L2
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 10


 184              	.L6:
 185 00e6 00BF     		.align	2
 186              	.L5:
 187 00e8 00000000 		.word	.LC0
 188 00ec 00000000 		.word	.LANCHOR0
 189 00f0 00000000 		.word	huart1
 190 00f4 00000000 		.word	.LANCHOR1
 191 00f8 00000000 		.word	.LANCHOR2
 192              	.LBE9:
 193              		.cfi_endproc
 194              	.LFE152:
 196              		.section	.text.StartServoControlTask,"ax",%progbits
 197              		.align	1
 198              		.global	StartServoControlTask
 199              		.syntax unified
 200              		.thumb
 201              		.thumb_func
 203              	StartServoControlTask:
 204              	.LVL11:
 205              	.LFB153:
 283:Core/Src/freertos.c ****     }
 284:Core/Src/freertos.c ****     /* USER CODE END StartAttitudeTask */
 285:Core/Src/freertos.c **** }
 286:Core/Src/freertos.c **** 
 287:Core/Src/freertos.c **** /* USER CODE BEGIN Header_StartServoControlTask */
 288:Core/Src/freertos.c **** /**
 289:Core/Src/freertos.c **** * @brief Function implementing the ServoControlTas thread.
 290:Core/Src/freertos.c **** * @param argument: Not used
 291:Core/Src/freertos.c **** * @retval None
 292:Core/Src/freertos.c **** */
 293:Core/Src/freertos.c **** /* USER CODE END Header_StartServoControlTask */
 294:Core/Src/freertos.c **** void StartServoControlTask(void *argument)
 295:Core/Src/freertos.c **** {
 206              		.loc 1 295 1 view -0
 207              		.cfi_startproc
 208              		@ Volatile: function does not return.
 209              		@ args = 0, pretend = 0, frame = 0
 210              		@ frame_needed = 0, uses_anonymous_args = 0
 211              		.loc 1 295 1 is_stmt 0 view .LVU49
 212 0000 08B5     		push	{r3, lr}
 213              	.LCFI2:
 214              		.cfi_def_cfa_offset 8
 215              		.cfi_offset 3, -8
 216              		.cfi_offset 14, -4
 296:Core/Src/freertos.c ****     /* USER CODE BEGIN StartServoControlTask */
 297:Core/Src/freertos.c **** 
 298:Core/Src/freertos.c ****     Init_Servos();
 217              		.loc 1 298 5 is_stmt 1 view .LVU50
 218 0002 FFF7FEFF 		bl	Init_Servos
 219              	.LVL12:
 299:Core/Src/freertos.c ****     // Set_Servo_Angle(H1, 90);  // 设置舵机角度
 300:Core/Src/freertos.c ****     // Set_Servo_Angle(H2, 90);
 301:Core/Src/freertos.c ****     // Set_Servo_Angle(H3, 90);
 302:Core/Src/freertos.c ****     // Set_Servo_Angle(H4, 90);
 303:Core/Src/freertos.c ****     // Set_Servo_Angle(H5, 90);
 304:Core/Src/freertos.c ****     // Set_Servo_Angle(H6, 90);
 305:Core/Src/freertos.c ****     // Set_Servo_Angle(H7, 90);
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 11


 306:Core/Src/freertos.c ****     // Set_Servo_Angle(H8, 90);
 307:Core/Src/freertos.c ****     // vTaskDelay(pdMS_TO_TICKS(1000)); // 延迟1秒
 308:Core/Src/freertos.c ****     // Set_Servo_Angle(H1, 90 - 20);  // 设置舵机角度
 309:Core/Src/freertos.c ****     // Set_Servo_Angle(H2, 90 - 30);
 310:Core/Src/freertos.c ****     // Set_Servo_Angle(H3, 90 + 20);
 311:Core/Src/freertos.c ****     // Set_Servo_Angle(H4, 90 + 30);
 312:Core/Src/freertos.c ****     // Set_Servo_Angle(H5, 90 - 20);
 313:Core/Src/freertos.c ****     // Set_Servo_Angle(H6, 90 - 30);
 314:Core/Src/freertos.c ****     // Set_Servo_Angle(H7, 90 + 20);
 315:Core/Src/freertos.c ****     // Set_Servo_Angle(H8, 90 + 30);
 316:Core/Src/freertos.c **** 
 317:Core/Src/freertos.c ****     vTaskDelay(pdMS_TO_TICKS(1000)); // 延迟1秒
 220              		.loc 1 317 5 view .LVU51
 221 0006 4FF47A70 		mov	r0, #1000
 222 000a FFF7FEFF 		bl	vTaskDelay
 223              	.LVL13:
 224              	.L8:
 318:Core/Src/freertos.c **** 
 319:Core/Src/freertos.c **** 
 320:Core/Src/freertos.c ****     //Gait_Forward();
 321:Core/Src/freertos.c **** 
 322:Core/Src/freertos.c ****     /* Infinite loop */
 323:Core/Src/freertos.c ****     for(;;)
 225              		.loc 1 323 5 discriminator 1 view .LVU52
 324:Core/Src/freertos.c ****     {
 325:Core/Src/freertos.c **** 
 326:Core/Src/freertos.c ****         // HAL_UART_Transmit(&huart1, (uint8_t*)"StartServoControlTask", 100, HAL_MAX_DELAY);
 327:Core/Src/freertos.c **** 
 328:Core/Src/freertos.c ****         //Gait_Forward();
 329:Core/Src/freertos.c **** 
 330:Core/Src/freertos.c ****         vTaskDelay(pdMS_TO_TICKS(1));
 226              		.loc 1 330 9 discriminator 1 view .LVU53
 227 000e 0120     		movs	r0, #1
 228 0010 FFF7FEFF 		bl	vTaskDelay
 229              	.LVL14:
 323:Core/Src/freertos.c ****     {
 230              		.loc 1 323 10 discriminator 1 view .LVU54
 231 0014 FBE7     		b	.L8
 232              		.cfi_endproc
 233              	.LFE153:
 235              		.section	.text.StartGaitControlTask,"ax",%progbits
 236              		.align	1
 237              		.global	StartGaitControlTask
 238              		.syntax unified
 239              		.thumb
 240              		.thumb_func
 242              	StartGaitControlTask:
 243              	.LFB154:
 331:Core/Src/freertos.c ****     }
 332:Core/Src/freertos.c ****     /* USER CODE END StartServoControlTask */
 333:Core/Src/freertos.c **** }
 334:Core/Src/freertos.c **** 
 335:Core/Src/freertos.c **** /* USER CODE BEGIN Header_StartGaitControlTask */
 336:Core/Src/freertos.c **** /**
 337:Core/Src/freertos.c **** * @brief Function implementing the GaitControlTask thread.
 338:Core/Src/freertos.c **** * @param argument: Not used
 339:Core/Src/freertos.c **** * @retval None
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 12


 340:Core/Src/freertos.c **** */
 341:Core/Src/freertos.c **** /* USER CODE END Header_StartGaitControlTask */
 342:Core/Src/freertos.c **** void StartGaitControlTask(void *argument)
 343:Core/Src/freertos.c **** {
 244              		.loc 1 343 1 view -0
 245              		.cfi_startproc
 246              		@ Volatile: function does not return.
 247              		@ args = 0, pretend = 0, frame = 0
 248              		@ frame_needed = 0, uses_anonymous_args = 0
 249              	.LVL15:
 250              		.loc 1 343 1 is_stmt 0 view .LVU56
 251 0000 08B5     		push	{r3, lr}
 252              	.LCFI3:
 253              		.cfi_def_cfa_offset 8
 254              		.cfi_offset 3, -8
 255              		.cfi_offset 14, -4
 256 0002 04E0     		b	.L18
 257              	.LVL16:
 258              	.L17:
 344:Core/Src/freertos.c ****     /* USER CODE BEGIN StartGaitControlTask */
 345:Core/Src/freertos.c ****     /* Infinite loop */
 346:Core/Src/freertos.c ****     for(;;)
 347:Core/Src/freertos.c ****     {
 348:Core/Src/freertos.c **** 
 349:Core/Src/freertos.c ****         //HAL_UART_Transmit(&huart1, (uint8_t*)"StartGaitControlTask", 100, HAL_MAX_DELAY);
 350:Core/Src/freertos.c **** 
 351:Core/Src/freertos.c ****         switch (current_action) {
 352:Core/Src/freertos.c ****             case ACTION_FORWARD:
 353:Core/Src/freertos.c ****                 Gait_Forward();
 259              		.loc 1 353 17 is_stmt 1 view .LVU57
 260 0004 FFF7FEFF 		bl	Gait_Forward
 261              	.LVL17:
 354:Core/Src/freertos.c ****                 break;
 262              		.loc 1 354 17 view .LVU58
 263              	.L11:
 355:Core/Src/freertos.c ****             case ACTION_BACKWARD:
 356:Core/Src/freertos.c ****                 Gait_Backward();
 357:Core/Src/freertos.c ****                 break;
 358:Core/Src/freertos.c ****             case ACTION_TURN_LEFT:
 359:Core/Src/freertos.c ****                 Gait_Turn_Left();
 360:Core/Src/freertos.c ****                 break;
 361:Core/Src/freertos.c ****             case ACTION_TURN_RIGHT:
 362:Core/Src/freertos.c ****                 Gait_Turn_Right();
 363:Core/Src/freertos.c ****                 break;
 364:Core/Src/freertos.c ****             case ACTION_MARCH_IN_PLACE:
 365:Core/Src/freertos.c ****                 Gait_March_In_Place();
 366:Core/Src/freertos.c ****                 break;
 367:Core/Src/freertos.c ****             case ACTION_STOP:
 368:Core/Src/freertos.c ****             default:
 369:Core/Src/freertos.c **** 
 370:Core/Src/freertos.c ****                 break;
 371:Core/Src/freertos.c ****         }
 372:Core/Src/freertos.c ****         vTaskDelay(pdMS_TO_TICKS(50)); // 每50ms更新一次步态
 264              		.loc 1 372 9 view .LVU59
 265 0008 3220     		movs	r0, #50
 266 000a FFF7FEFF 		bl	vTaskDelay
 267              	.LVL18:
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 13


 346:Core/Src/freertos.c ****     {
 268              		.loc 1 346 10 view .LVU60
 269              	.L18:
 346:Core/Src/freertos.c ****     {
 270              		.loc 1 346 5 view .LVU61
 351:Core/Src/freertos.c ****             case ACTION_FORWARD:
 271              		.loc 1 351 9 view .LVU62
 272 000e 0F4B     		ldr	r3, .L20
 273 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 274 0012 013B     		subs	r3, r3, #1
 275 0014 042B     		cmp	r3, #4
 276 0016 F7D8     		bhi	.L11
 277 0018 01A2     		adr	r2, .L13
 278 001a 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 279 001e 00BF     		.p2align 2
 280              	.L13:
 281 0020 05000000 		.word	.L17+1
 282 0024 35000000 		.word	.L16+1
 283 0028 3B000000 		.word	.L15+1
 284 002c 41000000 		.word	.L14+1
 285 0030 47000000 		.word	.L12+1
 286              		.p2align 1
 287              	.L16:
 356:Core/Src/freertos.c ****                 break;
 288              		.loc 1 356 17 view .LVU63
 289 0034 FFF7FEFF 		bl	Gait_Backward
 290              	.LVL19:
 357:Core/Src/freertos.c ****             case ACTION_TURN_LEFT:
 291              		.loc 1 357 17 view .LVU64
 292 0038 E6E7     		b	.L11
 293              	.L15:
 359:Core/Src/freertos.c ****                 break;
 294              		.loc 1 359 17 view .LVU65
 295 003a FFF7FEFF 		bl	Gait_Turn_Left
 296              	.LVL20:
 360:Core/Src/freertos.c ****             case ACTION_TURN_RIGHT:
 297              		.loc 1 360 17 view .LVU66
 298 003e E3E7     		b	.L11
 299              	.L14:
 362:Core/Src/freertos.c ****                 break;
 300              		.loc 1 362 17 view .LVU67
 301 0040 FFF7FEFF 		bl	Gait_Turn_Right
 302              	.LVL21:
 363:Core/Src/freertos.c ****             case ACTION_MARCH_IN_PLACE:
 303              		.loc 1 363 17 view .LVU68
 304 0044 E0E7     		b	.L11
 305              	.L12:
 365:Core/Src/freertos.c ****                 break;
 306              		.loc 1 365 17 view .LVU69
 307 0046 FFF7FEFF 		bl	Gait_March_In_Place
 308              	.LVL22:
 366:Core/Src/freertos.c ****             case ACTION_STOP:
 309              		.loc 1 366 17 view .LVU70
 310 004a DDE7     		b	.L11
 311              	.L21:
 312              		.align	2
 313              	.L20:
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 14


 314 004c 00000000 		.word	current_action
 315              		.cfi_endproc
 316              	.LFE154:
 318              		.section	.text.MX_FREERTOS_Init,"ax",%progbits
 319              		.align	1
 320              		.global	MX_FREERTOS_Init
 321              		.syntax unified
 322              		.thumb
 323              		.thumb_func
 325              	MX_FREERTOS_Init:
 326              	.LFB151:
 133:Core/Src/freertos.c ****     /* USER CODE BEGIN Init */
 327              		.loc 1 133 29 view -0
 328              		.cfi_startproc
 329              		@ args = 0, pretend = 0, frame = 0
 330              		@ frame_needed = 0, uses_anonymous_args = 0
 331 0000 08B5     		push	{r3, lr}
 332              	.LCFI4:
 333              		.cfi_def_cfa_offset 8
 334              		.cfi_offset 3, -8
 335              		.cfi_offset 14, -4
 135:Core/Src/freertos.c ****     //MPU9250_Init();
 336              		.loc 1 135 5 view .LVU72
 337 0002 FFF7FEFF 		bl	Servo_Init
 338              	.LVL23:
 137:Core/Src/freertos.c ****     //HAL_UART_Transmit(&huart1, (uint8_t*)"FreertosInit", 100, HAL_MAX_DELAY);
 339              		.loc 1 137 5 view .LVU73
 340 0006 FFF7FEFF 		bl	AHRS_Init
 341              	.LVL24:
 143:Core/Src/freertos.c **** 
 342              		.loc 1 143 5 view .LVU74
 343 000a 0A22     		movs	r2, #10
 344 000c 1D49     		ldr	r1, .L24
 345 000e 1E48     		ldr	r0, .L24+4
 346 0010 FFF7FEFF 		bl	HAL_UART_Receive_DMA
 347              	.LVL25:
 173:Core/Src/freertos.c ****     uartTxCompleteSemaphore = xSemaphoreCreateBinary();  // 创建串口发送完成信号量
 348              		.loc 1 173 5 view .LVU75
 173:Core/Src/freertos.c ****     uartTxCompleteSemaphore = xSemaphoreCreateBinary();  // 创建串口发送完成信号量
 349              		.loc 1 173 17 is_stmt 0 view .LVU76
 350 0014 0120     		movs	r0, #1
 351 0016 FFF7FEFF 		bl	xQueueCreateMutex
 352              	.LVL26:
 173:Core/Src/freertos.c ****     uartTxCompleteSemaphore = xSemaphoreCreateBinary();  // 创建串口发送完成信号量
 353              		.loc 1 173 15 view .LVU77
 354 001a 1C4B     		ldr	r3, .L24+8
 355 001c 1860     		str	r0, [r3]
 174:Core/Src/freertos.c ****     uartRxCompleteSemaphore = xSemaphoreCreateBinary();  // 创建串口接收完成信号量
 356              		.loc 1 174 5 is_stmt 1 view .LVU78
 174:Core/Src/freertos.c ****     uartRxCompleteSemaphore = xSemaphoreCreateBinary();  // 创建串口接收完成信号量
 357              		.loc 1 174 31 is_stmt 0 view .LVU79
 358 001e 0322     		movs	r2, #3
 359 0020 0021     		movs	r1, #0
 360 0022 0120     		movs	r0, #1
 361 0024 FFF7FEFF 		bl	xQueueGenericCreate
 362              	.LVL27:
 174:Core/Src/freertos.c ****     uartRxCompleteSemaphore = xSemaphoreCreateBinary();  // 创建串口接收完成信号量
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 15


 363              		.loc 1 174 29 view .LVU80
 364 0028 194B     		ldr	r3, .L24+12
 365 002a 1860     		str	r0, [r3]
 175:Core/Src/freertos.c ****     /* USER CODE END RTOS_SEMAPHORES */
 366              		.loc 1 175 5 is_stmt 1 view .LVU81
 175:Core/Src/freertos.c ****     /* USER CODE END RTOS_SEMAPHORES */
 367              		.loc 1 175 31 is_stmt 0 view .LVU82
 368 002c 0322     		movs	r2, #3
 369 002e 0021     		movs	r1, #0
 370 0030 0120     		movs	r0, #1
 371 0032 FFF7FEFF 		bl	xQueueGenericCreate
 372              	.LVL28:
 175:Core/Src/freertos.c ****     /* USER CODE END RTOS_SEMAPHORES */
 373              		.loc 1 175 29 view .LVU83
 374 0036 174B     		ldr	r3, .L24+16
 375 0038 1860     		str	r0, [r3]
 183:Core/Src/freertos.c ****     /* add queues, ... */
 376              		.loc 1 183 5 is_stmt 1 view .LVU84
 183:Core/Src/freertos.c ****     /* add queues, ... */
 377              		.loc 1 183 17 is_stmt 0 view .LVU85
 378 003a 0022     		movs	r2, #0
 379 003c 0821     		movs	r1, #8
 380 003e 0A20     		movs	r0, #10
 381 0040 FFF7FEFF 		bl	xQueueGenericCreate
 382              	.LVL29:
 183:Core/Src/freertos.c ****     /* add queues, ... */
 383              		.loc 1 183 15 view .LVU86
 384 0044 144B     		ldr	r3, .L24+20
 385 0046 1860     		str	r0, [r3]
 190:Core/Src/freertos.c **** 
 386              		.loc 1 190 5 is_stmt 1 view .LVU87
 190:Core/Src/freertos.c **** 
 387              		.loc 1 190 26 is_stmt 0 view .LVU88
 388 0048 144A     		ldr	r2, .L24+24
 389 004a 0021     		movs	r1, #0
 390 004c 1448     		ldr	r0, .L24+28
 391 004e FFF7FEFF 		bl	osThreadNew
 392              	.LVL30:
 190:Core/Src/freertos.c **** 
 393              		.loc 1 190 24 view .LVU89
 394 0052 144B     		ldr	r3, .L24+32
 395 0054 1860     		str	r0, [r3]
 193:Core/Src/freertos.c **** 
 396              		.loc 1 193 5 is_stmt 1 view .LVU90
 193:Core/Src/freertos.c **** 
 397              		.loc 1 193 29 is_stmt 0 view .LVU91
 398 0056 144A     		ldr	r2, .L24+36
 399 0058 0021     		movs	r1, #0
 400 005a 1448     		ldr	r0, .L24+40
 401 005c FFF7FEFF 		bl	osThreadNew
 402              	.LVL31:
 193:Core/Src/freertos.c **** 
 403              		.loc 1 193 27 view .LVU92
 404 0060 134B     		ldr	r3, .L24+44
 405 0062 1860     		str	r0, [r3]
 196:Core/Src/freertos.c **** 
 406              		.loc 1 196 5 is_stmt 1 view .LVU93
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 16


 196:Core/Src/freertos.c **** 
 407              		.loc 1 196 29 is_stmt 0 view .LVU94
 408 0064 134A     		ldr	r2, .L24+48
 409 0066 0021     		movs	r1, #0
 410 0068 1348     		ldr	r0, .L24+52
 411 006a FFF7FEFF 		bl	osThreadNew
 412              	.LVL32:
 196:Core/Src/freertos.c **** 
 413              		.loc 1 196 27 view .LVU95
 414 006e 134B     		ldr	r3, .L24+56
 415 0070 1860     		str	r0, [r3]
 199:Core/Src/freertos.c **** 
 416              		.loc 1 199 5 is_stmt 1 view .LVU96
 199:Core/Src/freertos.c **** 
 417              		.loc 1 199 28 is_stmt 0 view .LVU97
 418 0072 134A     		ldr	r2, .L24+60
 419 0074 0021     		movs	r1, #0
 420 0076 1348     		ldr	r0, .L24+64
 421 0078 FFF7FEFF 		bl	osThreadNew
 422              	.LVL33:
 199:Core/Src/freertos.c **** 
 423              		.loc 1 199 26 view .LVU98
 424 007c 124B     		ldr	r3, .L24+68
 425 007e 1860     		str	r0, [r3]
 209:Core/Src/freertos.c **** 
 426              		.loc 1 209 1 view .LVU99
 427 0080 08BD     		pop	{r3, pc}
 428              	.L25:
 429 0082 00BF     		.align	2
 430              	.L24:
 431 0084 00000000 		.word	.LANCHOR3
 432 0088 00000000 		.word	huart1
 433 008c 00000000 		.word	.LANCHOR4
 434 0090 00000000 		.word	.LANCHOR2
 435 0094 00000000 		.word	.LANCHOR5
 436 0098 00000000 		.word	.LANCHOR0
 437 009c 00000000 		.word	.LANCHOR6
 438 00a0 00000000 		.word	StartAttitudeTask
 439 00a4 00000000 		.word	.LANCHOR7
 440 00a8 00000000 		.word	.LANCHOR8
 441 00ac 00000000 		.word	StartServoControlTask
 442 00b0 00000000 		.word	.LANCHOR9
 443 00b4 00000000 		.word	.LANCHOR10
 444 00b8 00000000 		.word	StartGaitControlTask
 445 00bc 00000000 		.word	.LANCHOR11
 446 00c0 00000000 		.word	.LANCHOR12
 447 00c4 00000000 		.word	StartSerialCommTask
 448 00c8 00000000 		.word	.LANCHOR13
 449              		.cfi_endproc
 450              	.LFE151:
 452              		.section	.rodata.SendAttitudeToHost.str1.4,"aMS",%progbits,1
 453              		.align	2
 454              	.LC1:
 455 0000 252E3666 		.ascii	"%.6f,%.6f,%.6f,%.6f\012\000"
 455      2C252E36 
 455      662C252E 
 455      36662C25 
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 17


 455      2E36660A 
 456              		.section	.text.SendAttitudeToHost,"ax",%progbits
 457              		.align	1
 458              		.global	SendAttitudeToHost
 459              		.syntax unified
 460              		.thumb
 461              		.thumb_func
 463              	SendAttitudeToHost:
 464              	.LVL34:
 465              	.LFB157:
 373:Core/Src/freertos.c **** 
 374:Core/Src/freertos.c ****     }
 375:Core/Src/freertos.c ****     /* USER CODE END StartGaitControlTask */
 376:Core/Src/freertos.c **** }
 377:Core/Src/freertos.c **** 
 378:Core/Src/freertos.c **** /* USER CODE BEGIN Header_StartSerialCommTask */
 379:Core/Src/freertos.c **** /**
 380:Core/Src/freertos.c **** * @brief Function implementing the SerialCommTask thread.
 381:Core/Src/freertos.c **** * @param argument: Not used
 382:Core/Src/freertos.c **** * @retval None
 383:Core/Src/freertos.c **** */
 384:Core/Src/freertos.c **** /* USER CODE END Header_StartSerialCommTask */
 385:Core/Src/freertos.c **** void StartSerialCommTask(void *argument)
 386:Core/Src/freertos.c **** {
 387:Core/Src/freertos.c ****     /* USER CODE BEGIN StartSerialCommTask */
 388:Core/Src/freertos.c **** 
 389:Core/Src/freertos.c ****     /* Infinite loop */
 390:Core/Src/freertos.c ****     for(;;)
 391:Core/Src/freertos.c ****     {
 392:Core/Src/freertos.c ****         // 等待 DMA 接收到数据
 393:Core/Src/freertos.c ****         if (xSemaphoreTake(uartRxCompleteSemaphore, portMAX_DELAY) == pdTRUE) {
 394:Core/Src/freertos.c ****             // 线程安全：通过互斥量保护 UART 资源
 395:Core/Src/freertos.c ****             if (xSemaphoreTake(uartMutex, portMAX_DELAY) == pdTRUE) {
 396:Core/Src/freertos.c ****                 // 处理接收到的数据
 397:Core/Src/freertos.c ****                 UART_ProcessCommand(rxBuffer);
 398:Core/Src/freertos.c ****                 // 释放互斥量，允许其他任务访问 UART
 399:Core/Src/freertos.c ****                 xSemaphoreGive(uartMutex);
 400:Core/Src/freertos.c ****             }
 401:Core/Src/freertos.c ****             // 重新启动 DMA 接收
 402:Core/Src/freertos.c ****             HAL_UART_Receive_DMA(&huart1, rxBuffer, RX_BUFFER_SIZE);
 403:Core/Src/freertos.c ****         }
 404:Core/Src/freertos.c ****         vTaskDelay(pdMS_TO_TICKS(1));  // 延时 1 毫秒
 405:Core/Src/freertos.c ****     }
 406:Core/Src/freertos.c ****     /* USER CODE END StartSerialCommTask */
 407:Core/Src/freertos.c **** }
 408:Core/Src/freertos.c **** 
 409:Core/Src/freertos.c **** /* Private application code --------------------------------------------------*/
 410:Core/Src/freertos.c **** /* USER CODE BEGIN Application */
 411:Core/Src/freertos.c **** 
 412:Core/Src/freertos.c **** void UART_ProcessCommand(uint8_t* buffer) {
 413:Core/Src/freertos.c ****     if (buffer[0] == 0xAA && buffer[2] == 0x55) {  // 判断头和尾标志
 414:Core/Src/freertos.c ****         uint8_t command = buffer[1];  // 提取指令类型
 415:Core/Src/freertos.c ****         float quat[4];
 416:Core/Src/freertos.c ****         switch (command) {
 417:Core/Src/freertos.c ****             case 0x01:  // 前进
 418:Core/Src/freertos.c ****                 Move_Forward();
 419:Core/Src/freertos.c ****                 break;
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 18


 420:Core/Src/freertos.c ****             case 0x02:  // 后退
 421:Core/Src/freertos.c ****                 Move_Backward();
 422:Core/Src/freertos.c ****                 break;
 423:Core/Src/freertos.c ****             case 0x03:  // 左转
 424:Core/Src/freertos.c ****                 Turn_Left();
 425:Core/Src/freertos.c ****                 break;
 426:Core/Src/freertos.c ****             case 0x04:  // 右转
 427:Core/Src/freertos.c ****                 Turn_Right();
 428:Core/Src/freertos.c ****                 break;
 429:Core/Src/freertos.c ****             case 0x05:  // 停止
 430:Core/Src/freertos.c ****                 Stop();
 431:Core/Src/freertos.c ****                 break;
 432:Core/Src/freertos.c ****             case 0x06:  // 请求姿态数据
 433:Core/Src/freertos.c **** 
 434:Core/Src/freertos.c ****                 AHRS_GetQuaternion(quat);  // 获取当前四元数姿态数据
 435:Core/Src/freertos.c ****                 SendAttitudeToHost(quat);  // 发送姿态数据给上位机
 436:Core/Src/freertos.c ****                 break;
 437:Core/Src/freertos.c ****             default:
 438:Core/Src/freertos.c ****                 break;
 439:Core/Src/freertos.c ****         }
 440:Core/Src/freertos.c ****     }
 441:Core/Src/freertos.c **** }
 442:Core/Src/freertos.c **** 
 443:Core/Src/freertos.c **** /* SendAttitudeToHost - Sends the current attitude (quaternion) to the host via UART */
 444:Core/Src/freertos.c **** void SendAttitudeToHost(float q[4]) {
 466              		.loc 1 444 37 is_stmt 1 view -0
 467              		.cfi_startproc
 468              		@ args = 0, pretend = 0, frame = 152
 469              		@ frame_needed = 0, uses_anonymous_args = 0
 470              		.loc 1 444 37 is_stmt 0 view .LVU101
 471 0000 30B5     		push	{r4, r5, lr}
 472              	.LCFI5:
 473              		.cfi_def_cfa_offset 12
 474              		.cfi_offset 4, -12
 475              		.cfi_offset 5, -8
 476              		.cfi_offset 14, -4
 477 0002 AFB0     		sub	sp, sp, #188
 478              	.LCFI6:
 479              		.cfi_def_cfa_offset 200
 480 0004 0446     		mov	r4, r0
 445:Core/Src/freertos.c ****     uint8_t txBuffer[22];  // 传输数据缓存，22字节
 481              		.loc 1 445 5 is_stmt 1 view .LVU102
 446:Core/Src/freertos.c ****     txBuffer[0] = 0xAA;  // 开头标志
 482              		.loc 1 446 5 view .LVU103
 483              		.loc 1 446 17 is_stmt 0 view .LVU104
 484 0006 AA23     		movs	r3, #170
 485 0008 8DF8A030 		strb	r3, [sp, #160]
 447:Core/Src/freertos.c ****     txBuffer[1] = 0x06;  // 数据类型（姿态数据）
 486              		.loc 1 447 5 is_stmt 1 view .LVU105
 487              		.loc 1 447 17 is_stmt 0 view .LVU106
 488 000c 0623     		movs	r3, #6
 489 000e 8DF8A130 		strb	r3, [sp, #161]
 448:Core/Src/freertos.c **** 
 449:Core/Src/freertos.c ****     // 将四元数数据转换为字节
 450:Core/Src/freertos.c ****     memcpy(&txBuffer[2], &q[0], sizeof(float));
 490              		.loc 1 450 5 is_stmt 1 view .LVU107
 491 0012 0368     		ldr	r3, [r0]	@ unaligned
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 19


 492 0014 CDF8A230 		str	r3, [sp, #162]	@ unaligned
 451:Core/Src/freertos.c ****     memcpy(&txBuffer[6], &q[1], sizeof(float));
 493              		.loc 1 451 5 view .LVU108
 494 0018 4368     		ldr	r3, [r0, #4]	@ unaligned
 495 001a CDF8A630 		str	r3, [sp, #166]	@ unaligned
 452:Core/Src/freertos.c ****     memcpy(&txBuffer[10], &q[2], sizeof(float));
 496              		.loc 1 452 5 view .LVU109
 497 001e 8368     		ldr	r3, [r0, #8]	@ unaligned
 498 0020 CDF8AA30 		str	r3, [sp, #170]	@ unaligned
 453:Core/Src/freertos.c ****     memcpy(&txBuffer[14], &q[3], sizeof(float));
 499              		.loc 1 453 5 view .LVU110
 500 0024 C368     		ldr	r3, [r0, #12]	@ unaligned
 501 0026 CDF8AE30 		str	r3, [sp, #174]	@ unaligned
 454:Core/Src/freertos.c **** 
 455:Core/Src/freertos.c ****     txBuffer[18] = 0x55;  // 结束标志
 502              		.loc 1 455 5 view .LVU111
 503              		.loc 1 455 18 is_stmt 0 view .LVU112
 504 002a 5523     		movs	r3, #85
 505 002c 8DF8B230 		strb	r3, [sp, #178]
 456:Core/Src/freertos.c **** 
 457:Core/Src/freertos.c ****     // 通过UART发送姿态数据
 458:Core/Src/freertos.c ****     HAL_UART_Transmit(&huart1, txBuffer, sizeof(txBuffer), HAL_MAX_DELAY);
 506              		.loc 1 458 5 is_stmt 1 view .LVU113
 507 0030 164D     		ldr	r5, .L28
 508 0032 4FF0FF33 		mov	r3, #-1
 509 0036 1622     		movs	r2, #22
 510 0038 28A9     		add	r1, sp, #160
 511 003a 2846     		mov	r0, r5
 512              	.LVL35:
 513              		.loc 1 458 5 is_stmt 0 view .LVU114
 514 003c FFF7FEFF 		bl	HAL_UART_Transmit
 515              	.LVL36:
 459:Core/Src/freertos.c **** 
 460:Core/Src/freertos.c ****     // 打印四元数数据
 461:Core/Src/freertos.c ****     char printBuffer[128];
 516              		.loc 1 461 5 is_stmt 1 view .LVU115
 462:Core/Src/freertos.c ****     int len = snprintf(printBuffer, sizeof(printBuffer), "%.6f,%.6f,%.6f,%.6f\n", q[0], q[1], q[2],
 517              		.loc 1 462 5 view .LVU116
 518              		.loc 1 462 84 is_stmt 0 view .LVU117
 519 0040 94ED007A 		vldr.32	s14, [r4]
 520              		.loc 1 462 90 view .LVU118
 521 0044 94ED016A 		vldr.32	s12, [r4, #4]
 522              		.loc 1 462 96 view .LVU119
 523 0048 94ED025A 		vldr.32	s10, [r4, #8]
 524              		.loc 1 462 102 view .LVU120
 525 004c 94ED034A 		vldr.32	s8, [r4, #12]
 526              		.loc 1 462 15 view .LVU121
 527 0050 B7EEC44A 		vcvt.f64.f32	d4, s8
 528 0054 8DED064B 		vstr.64	d4, [sp, #24]
 529 0058 B7EEC55A 		vcvt.f64.f32	d5, s10
 530 005c 8DED045B 		vstr.64	d5, [sp, #16]
 531 0060 B7EEC66A 		vcvt.f64.f32	d6, s12
 532 0064 8DED026B 		vstr.64	d6, [sp, #8]
 533 0068 B7EEC77A 		vcvt.f64.f32	d7, s14
 534 006c 8DED007B 		vstr.64	d7, [sp]
 535 0070 074A     		ldr	r2, .L28+4
 536 0072 8021     		movs	r1, #128
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 20


 537 0074 08A8     		add	r0, sp, #32
 538 0076 FFF7FEFF 		bl	snprintf
 539              	.LVL37:
 463:Core/Src/freertos.c ****     HAL_UART_Transmit(&huart1, (uint8_t*)printBuffer, len, HAL_MAX_DELAY);
 540              		.loc 1 463 5 is_stmt 1 view .LVU122
 541 007a 4FF0FF33 		mov	r3, #-1
 542 007e 82B2     		uxth	r2, r0
 543 0080 08A9     		add	r1, sp, #32
 544 0082 2846     		mov	r0, r5
 545              	.LVL38:
 546              		.loc 1 463 5 is_stmt 0 view .LVU123
 547 0084 FFF7FEFF 		bl	HAL_UART_Transmit
 548              	.LVL39:
 464:Core/Src/freertos.c **** }
 549              		.loc 1 464 1 view .LVU124
 550 0088 2FB0     		add	sp, sp, #188
 551              	.LCFI7:
 552              		.cfi_def_cfa_offset 12
 553              		@ sp needed
 554 008a 30BD     		pop	{r4, r5, pc}
 555              	.LVL40:
 556              	.L29:
 557              		.loc 1 464 1 view .LVU125
 558              		.align	2
 559              	.L28:
 560 008c 00000000 		.word	huart1
 561 0090 00000000 		.word	.LC1
 562              		.cfi_endproc
 563              	.LFE157:
 565              		.section	.text.UART_ProcessCommand,"ax",%progbits
 566              		.align	1
 567              		.global	UART_ProcessCommand
 568              		.syntax unified
 569              		.thumb
 570              		.thumb_func
 572              	UART_ProcessCommand:
 573              	.LVL41:
 574              	.LFB156:
 412:Core/Src/freertos.c ****     if (buffer[0] == 0xAA && buffer[2] == 0x55) {  // 判断头和尾标志
 575              		.loc 1 412 43 is_stmt 1 view -0
 576              		.cfi_startproc
 577              		@ args = 0, pretend = 0, frame = 16
 578              		@ frame_needed = 0, uses_anonymous_args = 0
 413:Core/Src/freertos.c ****         uint8_t command = buffer[1];  // 提取指令类型
 579              		.loc 1 413 5 view .LVU127
 413:Core/Src/freertos.c ****         uint8_t command = buffer[1];  // 提取指令类型
 580              		.loc 1 413 15 is_stmt 0 view .LVU128
 581 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 413:Core/Src/freertos.c ****         uint8_t command = buffer[1];  // 提取指令类型
 582              		.loc 1 413 8 view .LVU129
 583 0002 AA2B     		cmp	r3, #170
 584 0004 00D0     		beq	.L44
 585              	.L41:
 586 0006 7047     		bx	lr
 587              	.L44:
 413:Core/Src/freertos.c ****         uint8_t command = buffer[1];  // 提取指令类型
 588              		.loc 1 413 36 discriminator 1 view .LVU130
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 21


 589 0008 8378     		ldrb	r3, [r0, #2]	@ zero_extendqisi2
 413:Core/Src/freertos.c ****         uint8_t command = buffer[1];  // 提取指令类型
 590              		.loc 1 413 27 discriminator 1 view .LVU131
 591 000a 552B     		cmp	r3, #85
 592 000c FBD1     		bne	.L41
 412:Core/Src/freertos.c ****     if (buffer[0] == 0xAA && buffer[2] == 0x55) {  // 判断头和尾标志
 593              		.loc 1 412 43 view .LVU132
 594 000e 00B5     		push	{lr}
 595              	.LCFI8:
 596              		.cfi_def_cfa_offset 4
 597              		.cfi_offset 14, -4
 598 0010 85B0     		sub	sp, sp, #20
 599              	.LCFI9:
 600              		.cfi_def_cfa_offset 24
 601              	.LBB10:
 414:Core/Src/freertos.c ****         float quat[4];
 602              		.loc 1 414 9 is_stmt 1 view .LVU133
 414:Core/Src/freertos.c ****         float quat[4];
 603              		.loc 1 414 17 is_stmt 0 view .LVU134
 604 0012 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 605              	.LVL42:
 415:Core/Src/freertos.c ****         switch (command) {
 606              		.loc 1 415 9 is_stmt 1 view .LVU135
 416:Core/Src/freertos.c ****             case 0x01:  // 前进
 607              		.loc 1 416 9 view .LVU136
 608 0014 013B     		subs	r3, r3, #1
 609              	.LVL43:
 416:Core/Src/freertos.c ****             case 0x01:  // 前进
 610              		.loc 1 416 9 is_stmt 0 view .LVU137
 611 0016 052B     		cmp	r3, #5
 612 0018 06D8     		bhi	.L30
 613 001a DFE803F0 		tbb	[pc, r3]
 614              	.L34:
 615 001e 03       		.byte	(.L39-.L34)/2
 616 001f 08       		.byte	(.L38-.L34)/2
 617 0020 0B       		.byte	(.L37-.L34)/2
 618 0021 0E       		.byte	(.L36-.L34)/2
 619 0022 11       		.byte	(.L35-.L34)/2
 620 0023 14       		.byte	(.L33-.L34)/2
 621              		.p2align 1
 622              	.L39:
 418:Core/Src/freertos.c ****                 break;
 623              		.loc 1 418 17 is_stmt 1 view .LVU138
 624 0024 FFF7FEFF 		bl	Move_Forward
 625              	.LVL44:
 419:Core/Src/freertos.c ****             case 0x02:  // 后退
 626              		.loc 1 419 17 view .LVU139
 627              	.L30:
 628              	.LBE10:
 441:Core/Src/freertos.c **** 
 629              		.loc 1 441 1 is_stmt 0 view .LVU140
 630 0028 05B0     		add	sp, sp, #20
 631              	.LCFI10:
 632              		.cfi_remember_state
 633              		.cfi_def_cfa_offset 4
 634              		@ sp needed
 635 002a 5DF804FB 		ldr	pc, [sp], #4
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 22


 636              	.LVL45:
 637              	.L38:
 638              	.LCFI11:
 639              		.cfi_restore_state
 640              	.LBB11:
 421:Core/Src/freertos.c ****                 break;
 641              		.loc 1 421 17 is_stmt 1 view .LVU141
 642 002e FFF7FEFF 		bl	Move_Backward
 643              	.LVL46:
 422:Core/Src/freertos.c ****             case 0x03:  // 左转
 644              		.loc 1 422 17 view .LVU142
 645 0032 F9E7     		b	.L30
 646              	.LVL47:
 647              	.L37:
 424:Core/Src/freertos.c ****                 break;
 648              		.loc 1 424 17 view .LVU143
 649 0034 FFF7FEFF 		bl	Turn_Left
 650              	.LVL48:
 425:Core/Src/freertos.c ****             case 0x04:  // 右转
 651              		.loc 1 425 17 view .LVU144
 652 0038 F6E7     		b	.L30
 653              	.LVL49:
 654              	.L36:
 427:Core/Src/freertos.c ****                 break;
 655              		.loc 1 427 17 view .LVU145
 656 003a FFF7FEFF 		bl	Turn_Right
 657              	.LVL50:
 428:Core/Src/freertos.c ****             case 0x05:  // 停止
 658              		.loc 1 428 17 view .LVU146
 659 003e F3E7     		b	.L30
 660              	.LVL51:
 661              	.L35:
 430:Core/Src/freertos.c ****                 break;
 662              		.loc 1 430 17 view .LVU147
 663 0040 FFF7FEFF 		bl	Stop
 664              	.LVL52:
 431:Core/Src/freertos.c ****             case 0x06:  // 请求姿态数据
 665              		.loc 1 431 17 view .LVU148
 666 0044 F0E7     		b	.L30
 667              	.LVL53:
 668              	.L33:
 434:Core/Src/freertos.c ****                 SendAttitudeToHost(quat);  // 发送姿态数据给上位机
 669              		.loc 1 434 17 view .LVU149
 670 0046 6846     		mov	r0, sp
 671              	.LVL54:
 434:Core/Src/freertos.c ****                 SendAttitudeToHost(quat);  // 发送姿态数据给上位机
 672              		.loc 1 434 17 is_stmt 0 view .LVU150
 673 0048 FFF7FEFF 		bl	AHRS_GetQuaternion
 674              	.LVL55:
 435:Core/Src/freertos.c ****                 break;
 675              		.loc 1 435 17 is_stmt 1 view .LVU151
 676 004c 6846     		mov	r0, sp
 677 004e FFF7FEFF 		bl	SendAttitudeToHost
 678              	.LVL56:
 436:Core/Src/freertos.c ****             default:
 679              		.loc 1 436 17 view .LVU152
 680              	.LBE11:
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 23


 441:Core/Src/freertos.c **** 
 681              		.loc 1 441 1 is_stmt 0 view .LVU153
 682 0052 E9E7     		b	.L30
 683              		.cfi_endproc
 684              	.LFE156:
 686              		.section	.text.StartSerialCommTask,"ax",%progbits
 687              		.align	1
 688              		.global	StartSerialCommTask
 689              		.syntax unified
 690              		.thumb
 691              		.thumb_func
 693              	StartSerialCommTask:
 694              	.LFB155:
 386:Core/Src/freertos.c ****     /* USER CODE BEGIN StartSerialCommTask */
 695              		.loc 1 386 1 is_stmt 1 view -0
 696              		.cfi_startproc
 697              		@ Volatile: function does not return.
 698              		@ args = 0, pretend = 0, frame = 0
 699              		@ frame_needed = 0, uses_anonymous_args = 0
 700              	.LVL57:
 386:Core/Src/freertos.c ****     /* USER CODE BEGIN StartSerialCommTask */
 701              		.loc 1 386 1 is_stmt 0 view .LVU155
 702 0000 08B5     		push	{r3, lr}
 703              	.LCFI12:
 704              		.cfi_def_cfa_offset 8
 705              		.cfi_offset 3, -8
 706              		.cfi_offset 14, -4
 707 0002 07E0     		b	.L48
 708              	.LVL58:
 709              	.L47:
 402:Core/Src/freertos.c ****         }
 710              		.loc 1 402 13 is_stmt 1 view .LVU156
 711 0004 0A22     		movs	r2, #10
 712 0006 1149     		ldr	r1, .L50
 713 0008 1148     		ldr	r0, .L50+4
 714 000a FFF7FEFF 		bl	HAL_UART_Receive_DMA
 715              	.LVL59:
 716              	.L46:
 404:Core/Src/freertos.c ****     }
 717              		.loc 1 404 9 view .LVU157
 718 000e 0120     		movs	r0, #1
 719 0010 FFF7FEFF 		bl	vTaskDelay
 720              	.LVL60:
 390:Core/Src/freertos.c ****     {
 721              		.loc 1 390 10 view .LVU158
 722              	.L48:
 390:Core/Src/freertos.c ****     {
 723              		.loc 1 390 5 view .LVU159
 393:Core/Src/freertos.c ****             // 线程安全：通过互斥量保护 UART 资源
 724              		.loc 1 393 9 view .LVU160
 393:Core/Src/freertos.c ****             // 线程安全：通过互斥量保护 UART 资源
 725              		.loc 1 393 13 is_stmt 0 view .LVU161
 726 0014 4FF0FF31 		mov	r1, #-1
 727 0018 0E4B     		ldr	r3, .L50+8
 728 001a 1868     		ldr	r0, [r3]
 729 001c FFF7FEFF 		bl	xQueueSemaphoreTake
 730              	.LVL61:
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 24


 393:Core/Src/freertos.c ****             // 线程安全：通过互斥量保护 UART 资源
 731              		.loc 1 393 12 view .LVU162
 732 0020 0128     		cmp	r0, #1
 733 0022 F4D1     		bne	.L46
 395:Core/Src/freertos.c ****                 // 处理接收到的数据
 734              		.loc 1 395 13 is_stmt 1 view .LVU163
 395:Core/Src/freertos.c ****                 // 处理接收到的数据
 735              		.loc 1 395 17 is_stmt 0 view .LVU164
 736 0024 4FF0FF31 		mov	r1, #-1
 737 0028 0B4B     		ldr	r3, .L50+12
 738 002a 1868     		ldr	r0, [r3]
 739 002c FFF7FEFF 		bl	xQueueSemaphoreTake
 740              	.LVL62:
 395:Core/Src/freertos.c ****                 // 处理接收到的数据
 741              		.loc 1 395 16 view .LVU165
 742 0030 0128     		cmp	r0, #1
 743 0032 E7D1     		bne	.L47
 397:Core/Src/freertos.c ****                 // 释放互斥量，允许其他任务访问 UART
 744              		.loc 1 397 17 is_stmt 1 view .LVU166
 745 0034 0548     		ldr	r0, .L50
 746 0036 FFF7FEFF 		bl	UART_ProcessCommand
 747              	.LVL63:
 399:Core/Src/freertos.c ****             }
 748              		.loc 1 399 17 view .LVU167
 749 003a 0023     		movs	r3, #0
 750 003c 1A46     		mov	r2, r3
 751 003e 1946     		mov	r1, r3
 752 0040 0548     		ldr	r0, .L50+12
 753 0042 0068     		ldr	r0, [r0]
 754 0044 FFF7FEFF 		bl	xQueueGenericSend
 755              	.LVL64:
 756 0048 DCE7     		b	.L47
 757              	.L51:
 758 004a 00BF     		.align	2
 759              	.L50:
 760 004c 00000000 		.word	.LANCHOR3
 761 0050 00000000 		.word	huart1
 762 0054 00000000 		.word	.LANCHOR5
 763 0058 00000000 		.word	.LANCHOR4
 764              		.cfi_endproc
 765              	.LFE155:
 767              		.section	.text.SendAttitudeToPC,"ax",%progbits
 768              		.align	1
 769              		.global	SendAttitudeToPC
 770              		.syntax unified
 771              		.thumb
 772              		.thumb_func
 774              	SendAttitudeToPC:
 775              	.LVL65:
 776              	.LFB158:
 465:Core/Src/freertos.c **** 
 466:Core/Src/freertos.c **** void SendAttitudeToPC(float q[4]) {
 777              		.loc 1 466 35 view -0
 778              		.cfi_startproc
 779              		@ args = 0, pretend = 0, frame = 56
 780              		@ frame_needed = 0, uses_anonymous_args = 0
 781              		.loc 1 466 35 is_stmt 0 view .LVU169
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 25


 782 0000 00B5     		push	{lr}
 783              	.LCFI13:
 784              		.cfi_def_cfa_offset 4
 785              		.cfi_offset 14, -4
 786 0002 97B0     		sub	sp, sp, #92
 787              	.LCFI14:
 788              		.cfi_def_cfa_offset 96
 467:Core/Src/freertos.c ****     char txBuffer[50];  // 传输数据缓存
 789              		.loc 1 467 5 is_stmt 1 view .LVU170
 468:Core/Src/freertos.c ****     int len = snprintf(txBuffer, sizeof(txBuffer), "%.6f,%.6f,%.6f,%.6f\n", q[0], q[1], q[2], q[3])
 790              		.loc 1 468 5 view .LVU171
 791              		.loc 1 468 78 is_stmt 0 view .LVU172
 792 0004 90ED007A 		vldr.32	s14, [r0]
 793              		.loc 1 468 84 view .LVU173
 794 0008 90ED016A 		vldr.32	s12, [r0, #4]
 795              		.loc 1 468 90 view .LVU174
 796 000c 90ED025A 		vldr.32	s10, [r0, #8]
 797              		.loc 1 468 96 view .LVU175
 798 0010 90ED034A 		vldr.32	s8, [r0, #12]
 799              		.loc 1 468 15 view .LVU176
 800 0014 B7EEC44A 		vcvt.f64.f32	d4, s8
 801 0018 8DED064B 		vstr.64	d4, [sp, #24]
 802 001c B7EEC55A 		vcvt.f64.f32	d5, s10
 803 0020 8DED045B 		vstr.64	d5, [sp, #16]
 804 0024 B7EEC66A 		vcvt.f64.f32	d6, s12
 805 0028 8DED026B 		vstr.64	d6, [sp, #8]
 806 002c B7EEC77A 		vcvt.f64.f32	d7, s14
 807 0030 8DED007B 		vstr.64	d7, [sp]
 808 0034 074A     		ldr	r2, .L54
 809 0036 3221     		movs	r1, #50
 810 0038 09A8     		add	r0, sp, #36
 811              	.LVL66:
 812              		.loc 1 468 15 view .LVU177
 813 003a FFF7FEFF 		bl	snprintf
 814              	.LVL67:
 469:Core/Src/freertos.c **** 
 470:Core/Src/freertos.c ****     // 通过UART发送姿态数据
 471:Core/Src/freertos.c ****     HAL_UART_Transmit(&huart1, (uint8_t*)txBuffer, len, HAL_MAX_DELAY);
 815              		.loc 1 471 5 is_stmt 1 view .LVU178
 816 003e 4FF0FF33 		mov	r3, #-1
 817 0042 82B2     		uxth	r2, r0
 818 0044 09A9     		add	r1, sp, #36
 819 0046 0448     		ldr	r0, .L54+4
 820              	.LVL68:
 821              		.loc 1 471 5 is_stmt 0 view .LVU179
 822 0048 FFF7FEFF 		bl	HAL_UART_Transmit
 823              	.LVL69:
 472:Core/Src/freertos.c **** }
 824              		.loc 1 472 1 view .LVU180
 825 004c 17B0     		add	sp, sp, #92
 826              	.LCFI15:
 827              		.cfi_def_cfa_offset 4
 828              		@ sp needed
 829 004e 5DF804FB 		ldr	pc, [sp], #4
 830              	.L55:
 831 0052 00BF     		.align	2
 832              	.L54:
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 26


 833 0054 00000000 		.word	.LC1
 834 0058 00000000 		.word	huart1
 835              		.cfi_endproc
 836              	.LFE158:
 838              		.section	.text.HAL_UART_TxCpltCallback,"ax",%progbits
 839              		.align	1
 840              		.global	HAL_UART_TxCpltCallback
 841              		.syntax unified
 842              		.thumb
 843              		.thumb_func
 845              	HAL_UART_TxCpltCallback:
 846              	.LVL70:
 847              	.LFB159:
 473:Core/Src/freertos.c **** 
 474:Core/Src/freertos.c **** // DMA 发送完成回调
 475:Core/Src/freertos.c **** void HAL_UART_TxCpltCallback(UART_HandleTypeDef *huart) {
 848              		.loc 1 475 57 is_stmt 1 view -0
 849              		.cfi_startproc
 850              		@ args = 0, pretend = 0, frame = 8
 851              		@ frame_needed = 0, uses_anonymous_args = 0
 476:Core/Src/freertos.c ****     if (huart->Instance == USART1) {
 852              		.loc 1 476 5 view .LVU182
 853              		.loc 1 476 14 is_stmt 0 view .LVU183
 854 0000 0268     		ldr	r2, [r0]
 855              		.loc 1 476 8 view .LVU184
 856 0002 0F4B     		ldr	r3, .L64
 857 0004 9A42     		cmp	r2, r3
 858 0006 00D0     		beq	.L63
 859 0008 7047     		bx	lr
 860              	.L63:
 475:Core/Src/freertos.c ****     if (huart->Instance == USART1) {
 861              		.loc 1 475 57 view .LVU185
 862 000a 00B5     		push	{lr}
 863              	.LCFI16:
 864              		.cfi_def_cfa_offset 4
 865              		.cfi_offset 14, -4
 866 000c 83B0     		sub	sp, sp, #12
 867              	.LCFI17:
 868              		.cfi_def_cfa_offset 16
 869              	.LBB12:
 477:Core/Src/freertos.c **** 
 478:Core/Src/freertos.c ****         //HAL_UART_Transmit(&huart1, (uint8_t*)"TxCompleteCplt", 100, HAL_MAX_DELAY);
 479:Core/Src/freertos.c ****         dma_tx_ready = 1;  // 标记DMA发送空闲
 870              		.loc 1 479 9 is_stmt 1 view .LVU186
 871              		.loc 1 479 22 is_stmt 0 view .LVU187
 872 000e 0D4B     		ldr	r3, .L64+4
 873 0010 0122     		movs	r2, #1
 874 0012 1A70     		strb	r2, [r3]
 480:Core/Src/freertos.c ****         BaseType_t xHigherPriorityTaskWoken = pdFALSE;
 875              		.loc 1 480 9 is_stmt 1 view .LVU188
 876              		.loc 1 480 20 is_stmt 0 view .LVU189
 877 0014 0023     		movs	r3, #0
 878 0016 0193     		str	r3, [sp, #4]
 481:Core/Src/freertos.c ****         // 发送完成信号量
 482:Core/Src/freertos.c ****         xSemaphoreGiveFromISR(uartTxCompleteSemaphore, &xHigherPriorityTaskWoken);
 879              		.loc 1 482 9 is_stmt 1 view .LVU190
 880 0018 01A9     		add	r1, sp, #4
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 27


 881 001a 0B4B     		ldr	r3, .L64+8
 882 001c 1868     		ldr	r0, [r3]
 883              	.LVL71:
 884              		.loc 1 482 9 is_stmt 0 view .LVU191
 885 001e FFF7FEFF 		bl	xQueueGiveFromISR
 886              	.LVL72:
 483:Core/Src/freertos.c ****         portYIELD_FROM_ISR(xHigherPriorityTaskWoken);
 887              		.loc 1 483 9 is_stmt 1 view .LVU192
 888 0022 019B     		ldr	r3, [sp, #4]
 889 0024 4BB1     		cbz	r3, .L56
 890              		.loc 1 483 9 discriminator 1 view .LVU193
 891 0026 4FF0E023 		mov	r3, #-536813568
 892 002a 4FF08052 		mov	r2, #268435456
 893 002e C3F8042D 		str	r2, [r3, #3332]
 894              		.loc 1 483 9 discriminator 1 view .LVU194
 895              		.syntax unified
 896              	@ 483 "Core/Src/freertos.c" 1
 897 0032 BFF34F8F 		dsb
 898              	@ 0 "" 2
 899              		.loc 1 483 9 discriminator 1 view .LVU195
 900              	@ 483 "Core/Src/freertos.c" 1
 901 0036 BFF36F8F 		isb
 902              	@ 0 "" 2
 903              		.loc 1 483 53 discriminator 1 view .LVU196
 904              		.thumb
 905              		.syntax unified
 906              	.L56:
 907              	.LBE12:
 484:Core/Src/freertos.c ****     }
 485:Core/Src/freertos.c **** }
 908              		.loc 1 485 1 is_stmt 0 view .LVU197
 909 003a 03B0     		add	sp, sp, #12
 910              	.LCFI18:
 911              		.cfi_def_cfa_offset 4
 912              		@ sp needed
 913 003c 5DF804FB 		ldr	pc, [sp], #4
 914              	.L65:
 915              		.align	2
 916              	.L64:
 917 0040 00100140 		.word	1073811456
 918 0044 00000000 		.word	.LANCHOR1
 919 0048 00000000 		.word	.LANCHOR2
 920              		.cfi_endproc
 921              	.LFE159:
 923              		.section	.text.HAL_UART_RxCpltCallback,"ax",%progbits
 924              		.align	1
 925              		.global	HAL_UART_RxCpltCallback
 926              		.syntax unified
 927              		.thumb
 928              		.thumb_func
 930              	HAL_UART_RxCpltCallback:
 931              	.LVL73:
 932              	.LFB160:
 486:Core/Src/freertos.c **** 
 487:Core/Src/freertos.c **** // DMA 接收完成回调
 488:Core/Src/freertos.c **** void HAL_UART_RxCpltCallback(UART_HandleTypeDef *huart) {
 933              		.loc 1 488 57 is_stmt 1 view -0
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 28


 934              		.cfi_startproc
 935              		@ args = 0, pretend = 0, frame = 8
 936              		@ frame_needed = 0, uses_anonymous_args = 0
 489:Core/Src/freertos.c ****     if (huart->Instance == USART1) {
 937              		.loc 1 489 5 view .LVU199
 938              		.loc 1 489 14 is_stmt 0 view .LVU200
 939 0000 0268     		ldr	r2, [r0]
 940              		.loc 1 489 8 view .LVU201
 941 0002 0E4B     		ldr	r3, .L74
 942 0004 9A42     		cmp	r2, r3
 943 0006 00D0     		beq	.L73
 944 0008 7047     		bx	lr
 945              	.L73:
 488:Core/Src/freertos.c ****     if (huart->Instance == USART1) {
 946              		.loc 1 488 57 view .LVU202
 947 000a 00B5     		push	{lr}
 948              	.LCFI19:
 949              		.cfi_def_cfa_offset 4
 950              		.cfi_offset 14, -4
 951 000c 83B0     		sub	sp, sp, #12
 952              	.LCFI20:
 953              		.cfi_def_cfa_offset 16
 954              	.LBB13:
 490:Core/Src/freertos.c ****         BaseType_t xHigherPriorityTaskWoken = pdFALSE;
 955              		.loc 1 490 9 is_stmt 1 view .LVU203
 956              		.loc 1 490 20 is_stmt 0 view .LVU204
 957 000e 0023     		movs	r3, #0
 958 0010 0193     		str	r3, [sp, #4]
 491:Core/Src/freertos.c ****         // 通知接收完成
 492:Core/Src/freertos.c ****         xSemaphoreGiveFromISR(uartRxCompleteSemaphore, &xHigherPriorityTaskWoken);
 959              		.loc 1 492 9 is_stmt 1 view .LVU205
 960 0012 01A9     		add	r1, sp, #4
 961 0014 0A4B     		ldr	r3, .L74+4
 962 0016 1868     		ldr	r0, [r3]
 963              	.LVL74:
 964              		.loc 1 492 9 is_stmt 0 view .LVU206
 965 0018 FFF7FEFF 		bl	xQueueGiveFromISR
 966              	.LVL75:
 493:Core/Src/freertos.c ****         portYIELD_FROM_ISR(xHigherPriorityTaskWoken);
 967              		.loc 1 493 9 is_stmt 1 view .LVU207
 968 001c 019B     		ldr	r3, [sp, #4]
 969 001e 4BB1     		cbz	r3, .L66
 970              		.loc 1 493 9 discriminator 1 view .LVU208
 971 0020 4FF0E023 		mov	r3, #-536813568
 972 0024 4FF08052 		mov	r2, #268435456
 973 0028 C3F8042D 		str	r2, [r3, #3332]
 974              		.loc 1 493 9 discriminator 1 view .LVU209
 975              		.syntax unified
 976              	@ 493 "Core/Src/freertos.c" 1
 977 002c BFF34F8F 		dsb
 978              	@ 0 "" 2
 979              		.loc 1 493 9 discriminator 1 view .LVU210
 980              	@ 493 "Core/Src/freertos.c" 1
 981 0030 BFF36F8F 		isb
 982              	@ 0 "" 2
 983              		.loc 1 493 53 discriminator 1 view .LVU211
 984              		.thumb
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 29


 985              		.syntax unified
 986              	.L66:
 987              	.LBE13:
 494:Core/Src/freertos.c ****     }
 495:Core/Src/freertos.c **** }
 988              		.loc 1 495 1 is_stmt 0 view .LVU212
 989 0034 03B0     		add	sp, sp, #12
 990              	.LCFI21:
 991              		.cfi_def_cfa_offset 4
 992              		@ sp needed
 993 0036 5DF804FB 		ldr	pc, [sp], #4
 994              	.L75:
 995 003a 00BF     		.align	2
 996              	.L74:
 997 003c 00100140 		.word	1073811456
 998 0040 00000000 		.word	.LANCHOR5
 999              		.cfi_endproc
 1000              	.LFE160:
 1002              		.section	.text.inHandlerMode,"ax",%progbits
 1003              		.align	1
 1004              		.global	inHandlerMode
 1005              		.syntax unified
 1006              		.thumb
 1007              		.thumb_func
 1009              	inHandlerMode:
 1010              	.LFB161:
 496:Core/Src/freertos.c **** 
 497:Core/Src/freertos.c **** // 检测是否处于中断上下文
 498:Core/Src/freertos.c **** uint32_t inHandlerMode(void)
 499:Core/Src/freertos.c **** {
 1011              		.loc 1 499 1 is_stmt 1 view -0
 1012              		.cfi_startproc
 1013              		@ args = 0, pretend = 0, frame = 0
 1014              		@ frame_needed = 0, uses_anonymous_args = 0
 1015              		@ link register save eliminated.
 500:Core/Src/freertos.c ****     return __get_IPSR() != 0U;
 1016              		.loc 1 500 5 view .LVU214
 1017              	.LBB14:
 1018              	.LBI14:
 1019              		.file 2 "Drivers/CMSIS/Include/cmsis_gcc.h"
   1:Drivers/CMSIS/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @brief    CMSIS compiler GCC header file
   4:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @version  V5.2.0
   5:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @date     08. May 2019
   6:Drivers/CMSIS/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:Drivers/CMSIS/Include/cmsis_gcc.h **** /*
   8:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Copyright (c) 2009-2019 Arm Limited. All rights reserved.
   9:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  10:Drivers/CMSIS/Include/cmsis_gcc.h ****  * SPDX-License-Identifier: Apache-2.0
  11:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  12:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Licensed under the Apache License, Version 2.0 (the License); you may
  13:Drivers/CMSIS/Include/cmsis_gcc.h ****  * not use this file except in compliance with the License.
  14:Drivers/CMSIS/Include/cmsis_gcc.h ****  * You may obtain a copy of the License at
  15:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  16:Drivers/CMSIS/Include/cmsis_gcc.h ****  * www.apache.org/licenses/LICENSE-2.0
  17:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 30


  18:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Unless required by applicable law or agreed to in writing, software
  19:Drivers/CMSIS/Include/cmsis_gcc.h ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
  20:Drivers/CMSIS/Include/cmsis_gcc.h ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:Drivers/CMSIS/Include/cmsis_gcc.h ****  * See the License for the specific language governing permissions and
  22:Drivers/CMSIS/Include/cmsis_gcc.h ****  * limitations under the License.
  23:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  24:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  25:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  26:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  27:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  28:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  29:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  30:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  31:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  32:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  33:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  34:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Fallback for __has_builtin */
  35:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __has_builtin
  36:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __has_builtin(x) (0)
  37:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  38:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  39:Drivers/CMSIS/Include/cmsis_gcc.h **** /* CMSIS compiler specific defines */
  40:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ASM
  41:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ASM                                  __asm
  42:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  43:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __INLINE
  44:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __INLINE                               inline
  45:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  46:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_INLINE
  47:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_INLINE                        static inline
  48:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  49:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_FORCEINLINE                 
  50:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_FORCEINLINE                   __attribute__((always_inline)) static inline
  51:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif                                           
  52:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __NO_RETURN
  53:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __NO_RETURN                            __attribute__((__noreturn__))
  54:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  55:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __USED
  56:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __USED                                 __attribute__((used))
  57:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  58:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __WEAK
  59:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __WEAK                                 __attribute__((weak))
  60:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  61:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED
  62:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED                               __attribute__((packed, aligned(1)))
  63:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  64:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_STRUCT
  65:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_STRUCT                        struct __attribute__((packed, aligned(1)))
  66:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  67:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_UNION
  68:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_UNION                         union __attribute__((packed, aligned(1)))
  69:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  70:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32        /* deprecated */
  71:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  72:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  73:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  74:Drivers/CMSIS/Include/cmsis_gcc.h ****   struct __attribute__((packed)) T_UINT32 { uint32_t v; };
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 31


  75:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  76:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32(x)                  (((struct T_UINT32 *)(x))->v)
  77:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  78:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_WRITE
  79:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  80:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  81:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  82:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_WRITE { uint16_t v; };
  83:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  84:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_WRITE(addr, val)    (void)((((struct T_UINT16_WRITE *)(void *)(addr))-
  85:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  86:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_READ
  87:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  88:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  89:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  90:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_READ { uint16_t v; };
  91:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  92:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_READ(addr)          (((const struct T_UINT16_READ *)(const void *)(add
  93:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  94:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_WRITE
  95:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  96:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  97:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  98:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_WRITE { uint32_t v; };
  99:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 100:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_WRITE(addr, val)    (void)((((struct T_UINT32_WRITE *)(void *)(addr))-
 101:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 102:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_READ
 103:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
 104:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
 105:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
 106:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_READ { uint32_t v; };
 107:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 108:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_READ(addr)          (((const struct T_UINT32_READ *)(const void *)(add
 109:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 110:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ALIGNED
 111:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ALIGNED(x)                           __attribute__((aligned(x)))
 112:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 113:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __RESTRICT
 114:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __RESTRICT                             __restrict
 115:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 116:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __COMPILER_BARRIER
 117:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __COMPILER_BARRIER()                   __ASM volatile("":::"memory")
 118:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 119:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 120:Drivers/CMSIS/Include/cmsis_gcc.h **** /* #########################  Startup and Lowlevel Init  ######################## */
 121:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 122:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __PROGRAM_START
 123:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 124:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 125:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Initializes data and bss sections
 126:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details This default implementations initialized all data and additional bss
 127:Drivers/CMSIS/Include/cmsis_gcc.h ****            sections relying on .copy.table and .zero.table specified properly
 128:Drivers/CMSIS/Include/cmsis_gcc.h ****            in the used linker script.
 129:Drivers/CMSIS/Include/cmsis_gcc.h ****   
 130:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE __NO_RETURN void __cmsis_start(void)
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 32


 132:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 133:Drivers/CMSIS/Include/cmsis_gcc.h ****   extern void _start(void) __NO_RETURN;
 134:Drivers/CMSIS/Include/cmsis_gcc.h ****   
 135:Drivers/CMSIS/Include/cmsis_gcc.h ****   typedef struct {
 136:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t const* src;
 137:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t* dest;
 138:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t  wlen;
 139:Drivers/CMSIS/Include/cmsis_gcc.h ****   } __copy_table_t;
 140:Drivers/CMSIS/Include/cmsis_gcc.h ****   
 141:Drivers/CMSIS/Include/cmsis_gcc.h ****   typedef struct {
 142:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t* dest;
 143:Drivers/CMSIS/Include/cmsis_gcc.h ****     uint32_t  wlen;
 144:Drivers/CMSIS/Include/cmsis_gcc.h ****   } __zero_table_t;
 145:Drivers/CMSIS/Include/cmsis_gcc.h ****   
 146:Drivers/CMSIS/Include/cmsis_gcc.h ****   extern const __copy_table_t __copy_table_start__;
 147:Drivers/CMSIS/Include/cmsis_gcc.h ****   extern const __copy_table_t __copy_table_end__;
 148:Drivers/CMSIS/Include/cmsis_gcc.h ****   extern const __zero_table_t __zero_table_start__;
 149:Drivers/CMSIS/Include/cmsis_gcc.h ****   extern const __zero_table_t __zero_table_end__;
 150:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 151:Drivers/CMSIS/Include/cmsis_gcc.h ****   for (__copy_table_t const* pTable = &__copy_table_start__; pTable < &__copy_table_end__; ++pTable
 152:Drivers/CMSIS/Include/cmsis_gcc.h ****     for(uint32_t i=0u; i<pTable->wlen; ++i) {
 153:Drivers/CMSIS/Include/cmsis_gcc.h ****       pTable->dest[i] = pTable->src[i];
 154:Drivers/CMSIS/Include/cmsis_gcc.h ****     }
 155:Drivers/CMSIS/Include/cmsis_gcc.h ****   }
 156:Drivers/CMSIS/Include/cmsis_gcc.h ****  
 157:Drivers/CMSIS/Include/cmsis_gcc.h ****   for (__zero_table_t const* pTable = &__zero_table_start__; pTable < &__zero_table_end__; ++pTable
 158:Drivers/CMSIS/Include/cmsis_gcc.h ****     for(uint32_t i=0u; i<pTable->wlen; ++i) {
 159:Drivers/CMSIS/Include/cmsis_gcc.h ****       pTable->dest[i] = 0u;
 160:Drivers/CMSIS/Include/cmsis_gcc.h ****     }
 161:Drivers/CMSIS/Include/cmsis_gcc.h ****   }
 162:Drivers/CMSIS/Include/cmsis_gcc.h ****  
 163:Drivers/CMSIS/Include/cmsis_gcc.h ****   _start();
 164:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 165:Drivers/CMSIS/Include/cmsis_gcc.h ****   
 166:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __PROGRAM_START           __cmsis_start
 167:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 168:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 169:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __INITIAL_SP
 170:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __INITIAL_SP              __StackTop
 171:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 172:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 173:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __STACK_LIMIT
 174:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __STACK_LIMIT             __StackLimit
 175:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 176:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 177:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __VECTOR_TABLE
 178:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __VECTOR_TABLE            __Vectors
 179:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 180:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 181:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __VECTOR_TABLE_ATTRIBUTE
 182:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __VECTOR_TABLE_ATTRIBUTE  __attribute((used, section(".vectors")))
 183:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 184:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 185:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
 186:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
 187:Drivers/CMSIS/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
 188:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 33


 189:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 190:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 191:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 192:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
 193:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
 194:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 195:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 196:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_irq(void)
 197:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 198:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
 199:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 200:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 201:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 202:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 203:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
 204:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
 205:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 206:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 207:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_irq(void)
 208:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 209:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
 210:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 211:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 212:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 213:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 214:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Control Register
 215:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the Control Register.
 216:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Control Register value
 217:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 218:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_CONTROL(void)
 219:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 220:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 221:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 222:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, control" : "=r" (result) );
 223:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 224:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 225:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 226:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 227:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 228:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 229:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Control Register (non-secure)
 230:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the non-secure Control Register when in secure mode.
 231:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               non-secure Control Register value
 232:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 233:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_CONTROL_NS(void)
 234:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 235:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 236:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 237:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, control_ns" : "=r" (result) );
 238:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 239:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 240:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 241:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 242:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 243:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 244:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Control Register
 245:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Writes the given value to the Control Register.
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 34


 246:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    control  Control Register value to set
 247:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 248:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_CONTROL(uint32_t control)
 249:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 250:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR control, %0" : : "r" (control) : "memory");
 251:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 252:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 253:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 254:Drivers/CMSIS/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 255:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 256:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Control Register (non-secure)
 257:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Writes the given value to the non-secure Control Register when in secure state.
 258:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    control  Control Register value to set
 259:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 260:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_CONTROL_NS(uint32_t control)
 261:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 262:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR control_ns, %0" : : "r" (control) : "memory");
 263:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 264:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 265:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 266:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 267:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 268:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get IPSR Register
 269:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the IPSR Register.
 270:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               IPSR Register value
 271:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 272:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_IPSR(void)
 1020              		.loc 2 272 31 view .LVU215
 1021              	.LBB15:
 273:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 274:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 1022              		.loc 2 274 3 view .LVU216
 275:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 276:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, ipsr" : "=r" (result) );
 1023              		.loc 2 276 3 view .LVU217
 1024              		.syntax unified
 1025              	@ 276 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 1026 0000 EFF30580 		MRS r0, ipsr
 1027              	@ 0 "" 2
 1028              	.LVL76:
 277:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 1029              		.loc 2 277 3 view .LVU218
 1030              		.loc 2 277 3 is_stmt 0 view .LVU219
 1031              		.thumb
 1032              		.syntax unified
 1033              	.LBE15:
 1034              	.LBE14:
 501:Core/Src/freertos.c **** }
 1035              		.loc 1 501 1 view .LVU220
 1036 0004 0038     		subs	r0, r0, #0
 1037 0006 18BF     		it	ne
 1038 0008 0120     		movne	r0, #1
 1039 000a 7047     		bx	lr
 1040              		.cfi_endproc
 1041              	.LFE161:
 1043              		.section	.text.print_usart1,"ax",%progbits
 1044              		.align	1
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 35


 1045              		.global	print_usart1
 1046              		.syntax unified
 1047              		.thumb
 1048              		.thumb_func
 1050              	print_usart1:
 1051              	.LVL77:
 1052              	.LFB162:
 502:Core/Src/freertos.c **** 
 503:Core/Src/freertos.c **** // 串口非阻塞发送函数，支持中断模式下安全调用
 504:Core/Src/freertos.c **** void print_usart1(char *format, ...)
 505:Core/Src/freertos.c **** {
 1053              		.loc 1 505 1 is_stmt 1 view -0
 1054              		.cfi_startproc
 1055              		@ args = 4, pretend = 16, frame = 72
 1056              		@ frame_needed = 0, uses_anonymous_args = 1
 1057              		.loc 1 505 1 is_stmt 0 view .LVU222
 1058 0000 0FB4     		push	{r0, r1, r2, r3}
 1059              	.LCFI22:
 1060              		.cfi_def_cfa_offset 16
 1061              		.cfi_offset 0, -16
 1062              		.cfi_offset 1, -12
 1063              		.cfi_offset 2, -8
 1064              		.cfi_offset 3, -4
 1065 0002 00B5     		push	{lr}
 1066              	.LCFI23:
 1067              		.cfi_def_cfa_offset 20
 1068              		.cfi_offset 14, -20
 1069 0004 93B0     		sub	sp, sp, #76
 1070              	.LCFI24:
 1071              		.cfi_def_cfa_offset 96
 506:Core/Src/freertos.c ****     char buf[64];  // 发送缓存
 1072              		.loc 1 506 5 is_stmt 1 view .LVU223
 507:Core/Src/freertos.c **** 
 508:Core/Src/freertos.c ****     // 检查是否在中断模式
 509:Core/Src/freertos.c ****     if (inHandlerMode() != 0)
 1073              		.loc 1 509 5 view .LVU224
 1074              		.loc 1 509 9 is_stmt 0 view .LVU225
 1075 0006 FFF7FEFF 		bl	inHandlerMode
 1076              	.LVL78:
 1077              		.loc 1 509 8 view .LVU226
 1078 000a 50B3     		cbz	r0, .L78
 510:Core/Src/freertos.c ****     {
 511:Core/Src/freertos.c ****         // 禁用全局中断，确保中断中不会有重入问题
 512:Core/Src/freertos.c ****         taskDISABLE_INTERRUPTS();
 1079              		.loc 1 512 9 is_stmt 1 view .LVU227
 1080              	.LBB16:
 1081              	.LBI16:
 1082              		.file 3 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h"
   1:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*
   2:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * FreeRTOS Kernel V10.3.1
   3:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * Copyright (C) 2020 Amazon.com, Inc. or its affiliates.  All Rights Reserved.
   4:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  *
   5:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * Permission is hereby granted, free of charge, to any person obtaining a copy of
   6:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * this software and associated documentation files (the "Software"), to deal in
   7:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * the Software without restriction, including without limitation the rights to
   8:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
   9:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * the Software, and to permit persons to whom the Software is furnished to do so,
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 36


  10:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * subject to the following conditions:
  11:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  *
  12:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * The above copyright notice and this permission notice shall be included in all
  13:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * copies or substantial portions of the Software.
  14:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  *
  15:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  16:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
  17:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
  18:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
  19:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  20:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
  21:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  *
  22:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * http://www.FreeRTOS.org
  23:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * http://aws.amazon.com/freertos
  24:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  *
  25:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * 1 tab == 4 spaces!
  26:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  */
  27:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  28:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  29:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #ifndef PORTMACRO_H
  30:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define PORTMACRO_H
  31:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  32:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #ifdef __cplusplus
  33:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** extern "C" {
  34:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif
  35:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  36:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------
  37:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * Port specific definitions.
  38:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  *
  39:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * The settings in this file configure FreeRTOS correctly for the
  40:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * given hardware and compiler.
  41:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  *
  42:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  * These settings should not be altered.
  43:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  *-----------------------------------------------------------
  44:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h ****  */
  45:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  46:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Type definitions. */
  47:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portCHAR		char
  48:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portFLOAT		float
  49:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portDOUBLE		double
  50:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portLONG		long
  51:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portSHORT		short
  52:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portSTACK_TYPE	uint32_t
  53:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portBASE_TYPE	long
  54:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  55:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** typedef portSTACK_TYPE StackType_t;
  56:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** typedef long BaseType_t;
  57:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** typedef unsigned long UBaseType_t;
  58:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  59:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #if( configUSE_16_BIT_TICKS == 1 )
  60:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	typedef uint16_t TickType_t;
  61:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portMAX_DELAY ( TickType_t ) 0xffff
  62:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #else
  63:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	typedef uint32_t TickType_t;
  64:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portMAX_DELAY ( TickType_t ) 0xffffffffUL
  65:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  66:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* 32-bit tick type on a 32-bit architecture, so reads of the tick count do
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 37


  67:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	not need to be guarded with a critical section. */
  68:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portTICK_TYPE_IS_ATOMIC 1
  69:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif
  70:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
  71:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  72:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Architecture specifics. */
  73:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portSTACK_GROWTH			( -1 )
  74:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portTICK_PERIOD_MS			( ( TickType_t ) 1000 / configTICK_RATE_HZ )
  75:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portBYTE_ALIGNMENT			8
  76:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
  77:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  78:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Scheduler utilities. */
  79:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portYIELD() 															\
  80:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** {																				\
  81:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* Set a PendSV to request a context switch. */								\
  82:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	portNVIC_INT_CTRL_REG = portNVIC_PENDSVSET_BIT;								\
  83:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 																				\
  84:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* Barriers are normally not required but do ensure the code is completely	\
  85:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	within the specified behaviour for the architecture. */						\
  86:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__asm volatile( "dsb" ::: "memory" );										\
  87:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__asm volatile( "isb" );													\
  88:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** }
  89:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  90:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portNVIC_INT_CTRL_REG		( * ( ( volatile uint32_t * ) 0xe000ed04 ) )
  91:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portNVIC_PENDSVSET_BIT		( 1UL << 28UL )
  92:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portEND_SWITCHING_ISR( xSwitchRequired ) if( xSwitchRequired != pdFALSE ) portYIELD()
  93:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portYIELD_FROM_ISR( x ) portEND_SWITCHING_ISR( x )
  94:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
  95:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
  96:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Critical section management. */
  97:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** extern void vPortEnterCritical( void );
  98:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** extern void vPortExitCritical( void );
  99:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portSET_INTERRUPT_MASK_FROM_ISR()		ulPortRaiseBASEPRI()
 100:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portCLEAR_INTERRUPT_MASK_FROM_ISR(x)	vPortSetBASEPRI(x)
 101:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portDISABLE_INTERRUPTS()				vPortRaiseBASEPRI()
 102:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portENABLE_INTERRUPTS()					vPortSetBASEPRI(0)
 103:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portENTER_CRITICAL()					vPortEnterCritical()
 104:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portEXIT_CRITICAL()						vPortExitCritical()
 105:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 106:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 107:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 108:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Task function macros as described on the FreeRTOS.org WEB site.  These are
 109:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** not necessary for to use this port.  They are defined so the common demo files
 110:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** (which build with all the ports) will build. */
 111:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portTASK_FUNCTION_PROTO( vFunction, pvParameters ) void vFunction( void *pvParameters )
 112:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portTASK_FUNCTION( vFunction, pvParameters ) void vFunction( void *pvParameters )
 113:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 114:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 115:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Tickless idle/low power functionality. */
 116:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #ifndef portSUPPRESS_TICKS_AND_SLEEP
 117:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	extern void vPortSuppressTicksAndSleep( TickType_t xExpectedIdleTime );
 118:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portSUPPRESS_TICKS_AND_SLEEP( xExpectedIdleTime ) vPortSuppressTicksAndSleep( xExpectedIdl
 119:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif
 120:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 121:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 122:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* Architecture specific optimisations. */
 123:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #ifndef configUSE_PORT_OPTIMISED_TASK_SELECTION
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 38


 124:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define configUSE_PORT_OPTIMISED_TASK_SELECTION 1
 125:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif
 126:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 127:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #if configUSE_PORT_OPTIMISED_TASK_SELECTION == 1
 128:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 129:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* Generic helper function. */
 130:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__attribute__( ( always_inline ) ) static inline uint8_t ucPortCountLeadingZeros( uint32_t ulBitma
 131:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	{
 132:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	uint8_t ucReturn;
 133:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 134:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		__asm volatile ( "clz %0, %1" : "=r" ( ucReturn ) : "r" ( ulBitmap ) : "memory" );
 135:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		return ucReturn;
 136:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	}
 137:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 138:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* Check the configuration. */
 139:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#if( configMAX_PRIORITIES > 32 )
 140:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		#error configUSE_PORT_OPTIMISED_TASK_SELECTION can only be set to 1 when configMAX_PRIORITIES is 
 141:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#endif
 142:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 143:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* Store/clear the ready priorities in a bit map. */
 144:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portRECORD_READY_PRIORITY( uxPriority, uxReadyPriorities ) ( uxReadyPriorities ) |= ( 1UL 
 145:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portRESET_READY_PRIORITY( uxPriority, uxReadyPriorities ) ( uxReadyPriorities ) &= ~( 1UL 
 146:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 147:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/*-----------------------------------------------------------*/
 148:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 149:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portGET_HIGHEST_PRIORITY( uxTopPriority, uxReadyPriorities ) uxTopPriority = ( 31UL - ( ui
 150:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 151:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif /* configUSE_PORT_OPTIMISED_TASK_SELECTION */
 152:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 153:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 154:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 155:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #ifdef configASSERT
 156:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	void vPortValidateInterruptPriority( void );
 157:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portASSERT_IF_INTERRUPT_PRIORITY_INVALID() 	vPortValidateInterruptPriority()
 158:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif
 159:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 160:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /* portNOP() is not required by this port. */
 161:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portNOP()
 162:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 163:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #define portINLINE	__inline
 164:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 165:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #ifndef portFORCE_INLINE
 166:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	#define portFORCE_INLINE inline __attribute__(( always_inline))
 167:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** #endif
 168:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 169:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** portFORCE_INLINE static BaseType_t xPortIsInsideInterrupt( void )
 170:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** {
 171:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** uint32_t ulCurrentInterrupt;
 172:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** BaseType_t xReturn;
 173:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 174:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* Obtain the number of the currently executing interrupt. */
 175:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__asm volatile( "mrs %0, ipsr" : "=r"( ulCurrentInterrupt ) :: "memory" );
 176:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 177:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	if( ulCurrentInterrupt == 0 )
 178:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	{
 179:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		xReturn = pdFALSE;
 180:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	}
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 39


 181:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	else
 182:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	{
 183:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		xReturn = pdTRUE;
 184:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	}
 185:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 186:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	return xReturn;
 187:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** }
 188:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 189:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 190:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 191:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** portFORCE_INLINE static void vPortRaiseBASEPRI( void )
 1083              		.loc 3 191 30 view .LVU228
 1084              	.LBB17:
 192:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** {
 193:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** uint32_t ulNewBASEPRI;
 1085              		.loc 3 193 1 view .LVU229
 194:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 195:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__asm volatile
 1086              		.loc 3 195 2 view .LVU230
 1087              		.syntax unified
 1088              	@ 195 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 1089 000c 4FF05003 			mov r3, #80												
 1090 0010 83F31188 		msr basepri, r3											
 1091 0014 BFF36F8F 		isb														
 1092 0018 BFF34F8F 		dsb														
 1093              	
 1094              	@ 0 "" 2
 1095              	.LVL79:
 1096              		.thumb
 1097              		.syntax unified
 1098              	.L79:
 1099              		.loc 3 195 2 is_stmt 0 view .LVU231
 1100              	.LBE17:
 1101              	.LBE16:
 513:Core/Src/freertos.c ****     }
 514:Core/Src/freertos.c ****     else
 515:Core/Src/freertos.c ****     {
 516:Core/Src/freertos.c ****         // 检查串口是否忙，如果忙则让出CPU
 517:Core/Src/freertos.c ****         while (HAL_UART_GetState(&huart1) == HAL_UART_STATE_BUSY_TX)
 518:Core/Src/freertos.c ****         {
 519:Core/Src/freertos.c ****             taskYIELD();
 520:Core/Src/freertos.c ****         }
 521:Core/Src/freertos.c ****     }
 522:Core/Src/freertos.c **** 
 523:Core/Src/freertos.c ****     // 格式化要发送的字符串
 524:Core/Src/freertos.c ****     va_list ap;
 1102              		.loc 1 524 5 is_stmt 1 view .LVU232
 525:Core/Src/freertos.c ****     va_start(ap, format);
 1103              		.loc 1 525 5 view .LVU233
 1104 001c 15AA     		add	r2, sp, #84
 1105 001e 0192     		str	r2, [sp, #4]
 526:Core/Src/freertos.c ****     vsprintf(buf, format, ap);
 1106              		.loc 1 526 5 view .LVU234
 1107 0020 1499     		ldr	r1, [sp, #80]
 1108 0022 02A8     		add	r0, sp, #8
 1109 0024 FFF7FEFF 		bl	vsprintf
 1110              	.LVL80:
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 40


 527:Core/Src/freertos.c ****     va_end(ap);
 1111              		.loc 1 527 5 view .LVU235
 528:Core/Src/freertos.c **** 
 529:Core/Src/freertos.c ****     // 使用中断方式发送数据
 530:Core/Src/freertos.c ****     HAL_UART_Transmit_IT(&huart1, (uint8_t *)buf, strlen(buf));
 1112              		.loc 1 530 5 view .LVU236
 1113              		.loc 1 530 51 is_stmt 0 view .LVU237
 1114 0028 02A8     		add	r0, sp, #8
 1115 002a FFF7FEFF 		bl	strlen
 1116              	.LVL81:
 1117              		.loc 1 530 5 view .LVU238
 1118 002e 82B2     		uxth	r2, r0
 1119 0030 02A9     		add	r1, sp, #8
 1120 0032 0F48     		ldr	r0, .L83
 1121 0034 FFF7FEFF 		bl	HAL_UART_Transmit_IT
 1122              	.LVL82:
 531:Core/Src/freertos.c **** 
 532:Core/Src/freertos.c ****     // 如果在中断模式下，恢复中断
 533:Core/Src/freertos.c ****     if (inHandlerMode() != 0)
 1123              		.loc 1 533 5 is_stmt 1 view .LVU239
 1124              		.loc 1 533 9 is_stmt 0 view .LVU240
 1125 0038 FFF7FEFF 		bl	inHandlerMode
 1126              	.LVL83:
 1127              		.loc 1 533 8 view .LVU241
 1128 003c 10B1     		cbz	r0, .L77
 534:Core/Src/freertos.c ****     {
 535:Core/Src/freertos.c ****         taskENABLE_INTERRUPTS();
 1129              		.loc 1 535 9 is_stmt 1 view .LVU242
 1130              	.LVL84:
 1131              	.LBB18:
 1132              	.LBI18:
 196:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	(
 197:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	mov %0, %1												\n"	\
 198:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	msr basepri, %0											\n" \
 199:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	isb														\n" \
 200:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	dsb														\n" \
 201:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		:"=r" (ulNewBASEPRI) : "i" ( configMAX_SYSCALL_INTERRUPT_PRIORITY ) : "memory"
 202:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	);
 203:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** }
 204:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 205:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 206:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 207:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** portFORCE_INLINE static uint32_t ulPortRaiseBASEPRI( void )
 208:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** {
 209:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** uint32_t ulOriginalBASEPRI, ulNewBASEPRI;
 210:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 211:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__asm volatile
 212:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	(
 213:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	mrs %0, basepri											\n" \
 214:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	mov %1, %2												\n"	\
 215:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	msr basepri, %1											\n" \
 216:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	isb														\n" \
 217:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		"	dsb														\n" \
 218:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 		:"=r" (ulOriginalBASEPRI), "=r" (ulNewBASEPRI) : "i" ( configMAX_SYSCALL_INTERRUPT_PRIORITY ) : "
 219:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	);
 220:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 221:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	/* This return will not be reached but is necessary to prevent compiler
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 41


 222:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	warnings. */
 223:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	return ulOriginalBASEPRI;
 224:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** }
 225:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** /*-----------------------------------------------------------*/
 226:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 
 227:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** portFORCE_INLINE static void vPortSetBASEPRI( uint32_t ulNewMaskValue )
 1133              		.loc 3 227 30 view .LVU243
 1134              	.LBB19:
 228:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** {
 229:Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h **** 	__asm volatile
 1135              		.loc 3 229 2 view .LVU244
 1136 003e 0023     		movs	r3, #0
 1137              		.syntax unified
 1138              	@ 229 "Middlewares/Third_Party/FreeRTOS/Source/portable/GCC/ARM_CM4F/portmacro.h" 1
 1139 0040 83F31188 			msr basepri, r3	
 1140              	@ 0 "" 2
 1141              	.LVL85:
 1142              		.thumb
 1143              		.syntax unified
 1144              	.L77:
 1145              		.loc 3 229 2 is_stmt 0 view .LVU245
 1146              	.LBE19:
 1147              	.LBE18:
 536:Core/Src/freertos.c ****     }
 537:Core/Src/freertos.c **** }
 1148              		.loc 1 537 1 view .LVU246
 1149 0044 13B0     		add	sp, sp, #76
 1150              	.LCFI25:
 1151              		.cfi_remember_state
 1152              		.cfi_def_cfa_offset 20
 1153              		@ sp needed
 1154 0046 5DF804EB 		ldr	lr, [sp], #4
 1155              	.LCFI26:
 1156              		.cfi_restore 14
 1157              		.cfi_def_cfa_offset 16
 1158 004a 04B0     		add	sp, sp, #16
 1159              	.LCFI27:
 1160              		.cfi_restore 3
 1161              		.cfi_restore 2
 1162              		.cfi_restore 1
 1163              		.cfi_restore 0
 1164              		.cfi_def_cfa_offset 0
 1165 004c 7047     		bx	lr
 1166              	.L80:
 1167              	.LCFI28:
 1168              		.cfi_restore_state
 519:Core/Src/freertos.c ****         }
 1169              		.loc 1 519 13 is_stmt 1 view .LVU247
 1170 004e 4FF0E023 		mov	r3, #-536813568
 1171 0052 4FF08052 		mov	r2, #268435456
 1172 0056 C3F8042D 		str	r2, [r3, #3332]
 519:Core/Src/freertos.c ****         }
 1173              		.loc 1 519 13 view .LVU248
 1174              		.syntax unified
 1175              	@ 519 "Core/Src/freertos.c" 1
 1176 005a BFF34F8F 		dsb
 1177              	@ 0 "" 2
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 42


 519:Core/Src/freertos.c ****         }
 1178              		.loc 1 519 13 view .LVU249
 1179              	@ 519 "Core/Src/freertos.c" 1
 1180 005e BFF36F8F 		isb
 1181              	@ 0 "" 2
 1182              		.thumb
 1183              		.syntax unified
 1184              	.L78:
 519:Core/Src/freertos.c ****         }
 1185              		.loc 1 519 24 discriminator 1 view .LVU250
 517:Core/Src/freertos.c ****         {
 1186              		.loc 1 517 15 discriminator 1 view .LVU251
 517:Core/Src/freertos.c ****         {
 1187              		.loc 1 517 16 is_stmt 0 discriminator 1 view .LVU252
 1188 0062 0348     		ldr	r0, .L83
 1189 0064 FFF7FEFF 		bl	HAL_UART_GetState
 1190              	.LVL86:
 517:Core/Src/freertos.c ****         {
 1191              		.loc 1 517 15 discriminator 1 view .LVU253
 1192 0068 2128     		cmp	r0, #33
 1193 006a F0D0     		beq	.L80
 1194 006c D6E7     		b	.L79
 1195              	.L84:
 1196 006e 00BF     		.align	2
 1197              	.L83:
 1198 0070 00000000 		.word	huart1
 1199              		.cfi_endproc
 1200              	.LFE162:
 1202              		.global	SerialCommTask_attributes
 1203              		.section	.rodata.str1.4,"aMS",%progbits,1
 1204              		.align	2
 1205              	.LC2:
 1206 0000 53657269 		.ascii	"SerialCommTask\000"
 1206      616C436F 
 1206      6D6D5461 
 1206      736B00
 1207              		.global	SerialCommTaskHandle
 1208              		.global	GaitControlTask_attributes
 1209 000f 00       		.align	2
 1210              	.LC3:
 1211 0010 47616974 		.ascii	"GaitControlTask\000"
 1211      436F6E74 
 1211      726F6C54 
 1211      61736B00 
 1212              		.global	GaitControlTaskHandle
 1213              		.global	ServoControlTas_attributes
 1214              		.align	2
 1215              	.LC4:
 1216 0020 53657276 		.ascii	"ServoControlTas\000"
 1216      6F436F6E 
 1216      74726F6C 
 1216      54617300 
 1217              		.global	ServoControlTasHandle
 1218              		.global	AttitudeTask_attributes
 1219              		.align	2
 1220              	.LC5:
 1221 0030 41747469 		.ascii	"AttitudeTask\000"
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 43


 1221      74756465 
 1221      5461736B 
 1221      00
 1222              		.global	AttitudeTaskHandle
 1223              		.global	dma_tx_ready
 1224              		.global	rxBuffer
 1225              		.global	TempData
 1226              		.global	GyroData
 1227              		.global	MagData
 1228              		.global	AccData
 1229              		.global	uartRxCompleteSemaphore
 1230              		.global	uartTxCompleteSemaphore
 1231              		.global	uartMutex
 1232              		.global	quatQueue
 1233              		.global	imuData
 1234              		.section	.bss.AccData,"aw",%nobits
 1235              		.align	2
 1238              	AccData:
 1239 0000 00000000 		.space	6
 1239      0000
 1240              		.section	.bss.AttitudeTaskHandle,"aw",%nobits
 1241              		.align	2
 1242              		.set	.LANCHOR7,. + 0
 1245              	AttitudeTaskHandle:
 1246 0000 00000000 		.space	4
 1247              		.section	.bss.GaitControlTaskHandle,"aw",%nobits
 1248              		.align	2
 1249              		.set	.LANCHOR11,. + 0
 1252              	GaitControlTaskHandle:
 1253 0000 00000000 		.space	4
 1254              		.section	.bss.GyroData,"aw",%nobits
 1255              		.align	2
 1258              	GyroData:
 1259 0000 00000000 		.space	6
 1259      0000
 1260              		.section	.bss.MagData,"aw",%nobits
 1261              		.align	2
 1264              	MagData:
 1265 0000 00000000 		.space	6
 1265      0000
 1266              		.section	.bss.SerialCommTaskHandle,"aw",%nobits
 1267              		.align	2
 1268              		.set	.LANCHOR13,. + 0
 1271              	SerialCommTaskHandle:
 1272 0000 00000000 		.space	4
 1273              		.section	.bss.ServoControlTasHandle,"aw",%nobits
 1274              		.align	2
 1275              		.set	.LANCHOR9,. + 0
 1278              	ServoControlTasHandle:
 1279 0000 00000000 		.space	4
 1280              		.section	.bss.TempData,"aw",%nobits
 1281              		.align	2
 1284              	TempData:
 1285 0000 00000000 		.space	4
 1286              		.section	.bss.imuData,"aw",%nobits
 1287              		.align	2
 1290              	imuData:
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 44


 1291 0000 00000000 		.space	24
 1291      00000000 
 1291      00000000 
 1291      00000000 
 1291      00000000 
 1292              		.section	.bss.quatQueue,"aw",%nobits
 1293              		.align	2
 1294              		.set	.LANCHOR0,. + 0
 1297              	quatQueue:
 1298 0000 00000000 		.space	4
 1299              		.section	.bss.rxBuffer,"aw",%nobits
 1300              		.align	2
 1301              		.set	.LANCHOR3,. + 0
 1304              	rxBuffer:
 1305 0000 00000000 		.space	10
 1305      00000000 
 1305      0000
 1306              		.section	.bss.uartMutex,"aw",%nobits
 1307              		.align	2
 1308              		.set	.LANCHOR4,. + 0
 1311              	uartMutex:
 1312 0000 00000000 		.space	4
 1313              		.section	.bss.uartRxCompleteSemaphore,"aw",%nobits
 1314              		.align	2
 1315              		.set	.LANCHOR5,. + 0
 1318              	uartRxCompleteSemaphore:
 1319 0000 00000000 		.space	4
 1320              		.section	.bss.uartTxCompleteSemaphore,"aw",%nobits
 1321              		.align	2
 1322              		.set	.LANCHOR2,. + 0
 1325              	uartTxCompleteSemaphore:
 1326 0000 00000000 		.space	4
 1327              		.section	.data.dma_tx_ready,"aw"
 1328              		.set	.LANCHOR1,. + 0
 1331              	dma_tx_ready:
 1332 0000 01       		.byte	1
 1333              		.section	.rodata.AttitudeTask_attributes,"a"
 1334              		.align	2
 1335              		.set	.LANCHOR6,. + 0
 1338              	AttitudeTask_attributes:
 1339 0000 30000000 		.word	.LC5
 1340 0004 00000000 		.space	16
 1340      00000000 
 1340      00000000 
 1340      00000000 
 1341 0014 00100000 		.word	4096
 1342 0018 33000000 		.word	51
 1343 001c 00000000 		.space	8
 1343      00000000 
 1344              		.section	.rodata.GaitControlTask_attributes,"a"
 1345              		.align	2
 1346              		.set	.LANCHOR10,. + 0
 1349              	GaitControlTask_attributes:
 1350 0000 10000000 		.word	.LC3
 1351 0004 00000000 		.space	16
 1351      00000000 
 1351      00000000 
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 45


 1351      00000000 
 1352 0014 00040000 		.word	1024
 1353 0018 32000000 		.word	50
 1354 001c 00000000 		.space	8
 1354      00000000 
 1355              		.section	.rodata.SerialCommTask_attributes,"a"
 1356              		.align	2
 1357              		.set	.LANCHOR12,. + 0
 1360              	SerialCommTask_attributes:
 1361 0000 00000000 		.word	.LC2
 1362 0004 00000000 		.space	16
 1362      00000000 
 1362      00000000 
 1362      00000000 
 1363 0014 00040000 		.word	1024
 1364 0018 32000000 		.word	50
 1365 001c 00000000 		.space	8
 1365      00000000 
 1366              		.section	.rodata.ServoControlTas_attributes,"a"
 1367              		.align	2
 1368              		.set	.LANCHOR8,. + 0
 1371              	ServoControlTas_attributes:
 1372 0000 20000000 		.word	.LC4
 1373 0004 00000000 		.space	16
 1373      00000000 
 1373      00000000 
 1373      00000000 
 1374 0014 00040000 		.word	1024
 1375 0018 32000000 		.word	50
 1376 001c 00000000 		.space	8
 1376      00000000 
 1377              		.text
 1378              	.Letext0:
 1379              		.file 4 "e:\\clion\\gcc-arm-none-eabi\\arm-none-eabi\\include\\machine\\_default_types.h"
 1380              		.file 5 "e:\\clion\\gcc-arm-none-eabi\\arm-none-eabi\\include\\sys\\_stdint.h"
 1381              		.file 6 "Drivers/CMSIS/Device/ST/STM32H7xx/Include/stm32h743xx.h"
 1382              		.file 7 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 1383              		.file 8 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_dma.h"
 1384              		.file 9 "Drivers/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_uart.h"
 1385              		.file 10 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS_V2/cmsis_os2.h"
 1386              		.file 11 "Middlewares/Third_Party/FreeRTOS/Source/include/queue.h"
 1387              		.file 12 "Middlewares/Third_Party/FreeRTOS/Source/include/semphr.h"
 1388              		.file 13 "Core/Inc/MPU9250.h"
 1389              		.file 14 "Core/Inc/robocontrol.h"
 1390              		.file 15 "e:\\clion\\gcc-arm-none-eabi\\lib\\gcc\\arm-none-eabi\\10.3.1\\include\\stdarg.h"
 1391              		.file 16 "e:\\clion\\gcc-arm-none-eabi\\arm-none-eabi\\include\\stdio.h"
 1392              		.file 17 "e:\\clion\\gcc-arm-none-eabi\\arm-none-eabi\\include\\string.h"
 1393              		.file 18 "Core/Inc/AHRS.h"
 1394              		.file 19 "Middlewares/Third_Party/FreeRTOS/Source/include/task.h"
 1395              		.file 20 "Core/Inc/servo_control.h"
 1396              		.file 21 "<built-in>"
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 46


DEFINED SYMBOLS
                            *ABS*:00000000 freertos.c
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:19     .rodata.StartAttitudeTask.str1.4:00000000 $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:23     .text.StartAttitudeTask:00000000 $t
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:29     .text.StartAttitudeTask:00000000 StartAttitudeTask
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:187    .text.StartAttitudeTask:000000e8 $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:197    .text.StartServoControlTask:00000000 $t
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:203    .text.StartServoControlTask:00000000 StartServoControlTask
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:236    .text.StartGaitControlTask:00000000 $t
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:242    .text.StartGaitControlTask:00000000 StartGaitControlTask
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:281    .text.StartGaitControlTask:00000020 $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:286    .text.StartGaitControlTask:00000034 $t
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:314    .text.StartGaitControlTask:0000004c $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:319    .text.MX_FREERTOS_Init:00000000 $t
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:325    .text.MX_FREERTOS_Init:00000000 MX_FREERTOS_Init
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:431    .text.MX_FREERTOS_Init:00000084 $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:693    .text.StartSerialCommTask:00000000 StartSerialCommTask
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:453    .rodata.SendAttitudeToHost.str1.4:00000000 $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:457    .text.SendAttitudeToHost:00000000 $t
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:463    .text.SendAttitudeToHost:00000000 SendAttitudeToHost
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:560    .text.SendAttitudeToHost:0000008c $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:566    .text.UART_ProcessCommand:00000000 $t
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:572    .text.UART_ProcessCommand:00000000 UART_ProcessCommand
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:615    .text.UART_ProcessCommand:0000001e $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:621    .text.UART_ProcessCommand:00000024 $t
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:687    .text.StartSerialCommTask:00000000 $t
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:760    .text.StartSerialCommTask:0000004c $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:768    .text.SendAttitudeToPC:00000000 $t
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:774    .text.SendAttitudeToPC:00000000 SendAttitudeToPC
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:833    .text.SendAttitudeToPC:00000054 $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:839    .text.HAL_UART_TxCpltCallback:00000000 $t
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:845    .text.HAL_UART_TxCpltCallback:00000000 HAL_UART_TxCpltCallback
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:917    .text.HAL_UART_TxCpltCallback:00000040 $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:924    .text.HAL_UART_RxCpltCallback:00000000 $t
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:930    .text.HAL_UART_RxCpltCallback:00000000 HAL_UART_RxCpltCallback
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:997    .text.HAL_UART_RxCpltCallback:0000003c $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1003   .text.inHandlerMode:00000000 $t
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1009   .text.inHandlerMode:00000000 inHandlerMode
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1044   .text.print_usart1:00000000 $t
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1050   .text.print_usart1:00000000 print_usart1
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1198   .text.print_usart1:00000070 $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1360   .rodata.SerialCommTask_attributes:00000000 SerialCommTask_attributes
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1204   .rodata.str1.4:00000000 $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1271   .bss.SerialCommTaskHandle:00000000 SerialCommTaskHandle
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1349   .rodata.GaitControlTask_attributes:00000000 GaitControlTask_attributes
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1252   .bss.GaitControlTaskHandle:00000000 GaitControlTaskHandle
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1371   .rodata.ServoControlTas_attributes:00000000 ServoControlTas_attributes
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1278   .bss.ServoControlTasHandle:00000000 ServoControlTasHandle
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1338   .rodata.AttitudeTask_attributes:00000000 AttitudeTask_attributes
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1245   .bss.AttitudeTaskHandle:00000000 AttitudeTaskHandle
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1331   .data.dma_tx_ready:00000000 dma_tx_ready
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1304   .bss.rxBuffer:00000000 rxBuffer
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1284   .bss.TempData:00000000 TempData
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1258   .bss.GyroData:00000000 GyroData
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1264   .bss.MagData:00000000 MagData
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1238   .bss.AccData:00000000 AccData
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1318   .bss.uartRxCompleteSemaphore:00000000 uartRxCompleteSemaphore
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 47


C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1325   .bss.uartTxCompleteSemaphore:00000000 uartTxCompleteSemaphore
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1311   .bss.uartMutex:00000000 uartMutex
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1297   .bss.quatQueue:00000000 quatQueue
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1290   .bss.imuData:00000000 imuData
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1235   .bss.AccData:00000000 $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1241   .bss.AttitudeTaskHandle:00000000 $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1248   .bss.GaitControlTaskHandle:00000000 $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1255   .bss.GyroData:00000000 $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1261   .bss.MagData:00000000 $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1267   .bss.SerialCommTaskHandle:00000000 $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1274   .bss.ServoControlTasHandle:00000000 $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1281   .bss.TempData:00000000 $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1287   .bss.imuData:00000000 $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1293   .bss.quatQueue:00000000 $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1300   .bss.rxBuffer:00000000 $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1307   .bss.uartMutex:00000000 $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1314   .bss.uartRxCompleteSemaphore:00000000 $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1321   .bss.uartTxCompleteSemaphore:00000000 $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1334   .rodata.AttitudeTask_attributes:00000000 $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1345   .rodata.GaitControlTask_attributes:00000000 $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1356   .rodata.SerialCommTask_attributes:00000000 $d
C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s:1367   .rodata.ServoControlTas_attributes:00000000 $d

UNDEFINED SYMBOLS
vTaskDelay
MPU9250_GetData
AHRS_Update
AHRS_GetQuaternion
snprintf
xQueueGenericSend
HAL_UART_GetState
HAL_UART_Transmit_DMA
xQueueSemaphoreTake
huart1
Init_Servos
Gait_Forward
Gait_Backward
Gait_Turn_Left
Gait_Turn_Right
Gait_March_In_Place
current_action
Servo_Init
AHRS_Init
HAL_UART_Receive_DMA
xQueueCreateMutex
xQueueGenericCreate
osThreadNew
HAL_UART_Transmit
Move_Forward
Move_Backward
Turn_Left
Turn_Right
Stop
xQueueGiveFromISR
vsprintf
strlen
HAL_UART_Transmit_IT
ARM GAS  C:\Users\25750\AppData\Local\Temp\ccNhT1ED.s 			page 48


